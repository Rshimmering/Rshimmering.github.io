<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜ | Rshimmer</title><meta name="keywords" content="Python,pandas"><meta name="author" content="Rshimmer"><meta name="copyright" content="Rshimmer"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#F0E68C"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜"><meta name="application-name" content="Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#F0E68C"><meta property="og:type" content="article"><meta property="og:title" content="Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜"><meta property="og:url" content="https://rshimmering.github.io/posts/d966146.html"><meta property="og:site_name" content="Rshimmer"><meta property="og:description" content="pandaså¸¸ç”¨æ•°æ®ç±»å‹ ä¸€ç»´æ•°ç»„ä¸å¸¸ç”¨æ“ä½œ 1234567891011121314import pandas as pdimport matplotlib.pyplot as plt#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼pd.set_option(&amp;amp;#x27;display.unicode.ambiguous_a"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://rshimmering.github.io/pageimg/2027105.jpg"><meta property="article:author" content="Rshimmer"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://rshimmering.github.io/pageimg/2027105.jpg"><link rel="shortcut icon" href="/img/feng.png"><link rel="canonical" href="https://rshimmering.github.io/posts/d966146"><link rel="preconnect" href="//npm.elemecdn.com"><link rel="preconnect" href="//npm.onmicrosoft.cn"><meta name="google-site-verification" content="xxx"><meta name="baidu-site-verification" content="code-xxx"><meta name="msvalidate.01" content="xxx"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG = { 
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#76B6EA","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-07-16 23:24:26",postMainColor:""}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#F0E68C')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#F0E68C')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="/img/t.jpg"><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>if (GLOBAL_CONFIG.preloader.source == "2" || GLOBAL_CONFIG.preloader.source == "3") {
  const loadingPercentage = document.getElementById("loading-percentage");
  let loadingPercentageTimer = setInterval(function() {
    var progressBar = document.querySelector(".pace-progress");
    if (!progressBar) return
    var currentValue = progressBar.getAttribute("data-progress-text");
    if (currentValue !== loadingPercentage.textContent) {
      loadingPercentage.textContent = currentValue;
      if (currentValue === "100%") {
        clearInterval(loadingPercentageTimer);
      }
    }
  }, 100);
}

const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"><script async src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">Rshimmer</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> ç™¾å®ç®±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child" style="left:-79px"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> æœç´¢</span></a></div><input id="center-console" type="checkbox"><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole()"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="wechat" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="alipay" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"><span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">éŸ³ä¹</div><span class="author-content-item-title">çµé­‚çš„ç¢°æ’ğŸ’¥</span></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">å…«æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">36</span><span>ç¯‡</span></div></a></li></ul></div><hr></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python%E6%93%8D%E4%BD%9C%E8%AE%B0%E5%BD%95/">Pythonæ“ä½œè®°å½•</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Python/" tabindex="-1"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>Python</span></a><a class="article-meta__tags" href="/tags/pandas/" tabindex="-1"> <span><i class="anzhiyufont anzhiyu-icon-hashtag"></i>pandas</span></a></span></div></div><h1 class="post-title">Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-06-07T13:38:51.000Z" title="å‘è¡¨äº 2023-06-07 21:38:51">2023-06-07</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-07-16T15:24:26.000Z" title="æ›´æ–°äº 2023-07-16 23:24:26">2023-07-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="æ–‡ç« å­—æ•°"></i><span class="post-meta-label" title="æ–‡ç« å­—æ•°">å­—æ•°æ€»è®¡:</span><span class="word-count" title="æ–‡ç« å­—æ•°">19.9k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="é˜…è¯»æ—¶é•¿"></i><span class="post-meta-label" title="é˜…è¯»æ—¶é•¿">é˜…è¯»æ—¶é•¿:</span><span>91åˆ†é’Ÿ</span></span><span class="post-meta-separator"> </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºæ·±åœ³"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>æ·±åœ³</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/pageimg/2027105.jpg"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="pandaså¸¸ç”¨æ•°æ®ç±»å‹">pandaså¸¸ç”¨æ•°æ®ç±»å‹</h1><h2 id="ä¸€ç»´æ•°ç»„ä¸å¸¸ç”¨æ“ä½œ">ä¸€ç»´æ•°ç»„ä¸å¸¸ç”¨æ“ä½œ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è‡ªåŠ¨åˆ›å»ºä»0å¼€å§‹çš„éè´Ÿæ•´æ•°ç´¢å¼•</span></span><br><span class="line">s1=pd.Series(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">20</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment">#ä½¿ç”¨å­—å…¸åˆ›å»ºSeriesï¼Œä½¿ç”¨å­—å…¸çš„â€œé”®â€ä½œä¸ºç´¢å¼•</span></span><br><span class="line">s2=pd.Series(&#123;<span class="string">&#x27;è¯­æ–‡&#x27;</span>:<span class="number">90</span>,<span class="string">&#x27;æ•°å­¦&#x27;</span>:<span class="number">92</span>,<span class="string">&#x27;Python&#x27;</span>:<span class="number">98</span>,<span class="string">&#x27;ç‰©ç†&#x27;</span>:<span class="number">87</span>,<span class="string">&#x27;åŒ–å­¦&#x27;</span>:<span class="number">92</span>&#125;)</span><br><span class="line"><span class="comment">#ä¿®æ”¹æŒ‡å®šç´¢å¼•å¯¹åº”çš„å€¼</span></span><br><span class="line">s1[<span class="number">3</span>]=-<span class="number">17</span></span><br><span class="line">s2[<span class="string">&#x27;è¯­æ–‡&#x27;</span>]=<span class="number">94</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s1åŸå§‹æ•°æ®&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s1)</span><br></pre></td></tr></table></figure><pre><code>s1åŸå§‹æ•°æ®==============
0     1
1     6
2    11
3   -17
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¯¹s1æ‰€æœ‰æ•°æ®æ±‚ç»å¯¹å€¼&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">abs</span>(s1))</span><br></pre></td></tr></table></figure><pre><code>å¯¹s1æ‰€æœ‰æ•°æ®æ±‚ç»å¯¹å€¼=========
0     1
1     6
2    11
3    17
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s1æ‰€æœ‰çš„å€¼åŠ 5&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s1+<span class="number">5</span>)</span><br></pre></td></tr></table></figure><pre><code>s1æ‰€æœ‰çš„å€¼åŠ 5============
0     6
1    11
2    16
3   -12
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s1çš„æ¯è¡Œç´¢å¼•å‰é¢åŠ ä¸Šæ•°å­—2&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s1.add_prefix(<span class="number">2</span>))</span><br></pre></td></tr></table></figure><pre><code>s1çš„æ¯è¡Œç´¢å¼•å‰é¢åŠ ä¸Šæ•°å­—2======
20     1
21     6
22    11
23   -17
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2åŸå§‹æ•°æ®&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2)</span><br></pre></td></tr></table></figure><pre><code>s2åŸå§‹æ•°æ®==============
è¯­æ–‡      94
æ•°å­¦      92
Python    98
ç‰©ç†      87
åŒ–å­¦      92
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2æ•°æ®çš„ç›´æ–¹å›¾&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line">s2.hist()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><pre><code>s2æ•°æ®çš„ç›´æ–¹å›¾============
</code></pre><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/posts/d966146/output_8_1-16861452192801.png" title="output_8_1"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2çš„æ¯è¡Œç´¢å¼•åé¢åŠ ä¸Š_å¼ ä¸‰&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2.add_suffix(<span class="string">&#x27;_å¼ ä¸‰&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>s2çš„æ¯è¡Œç´¢å¼•åé¢åŠ ä¸Š_å¼ ä¸‰======
è¯­æ–‡_å¼ ä¸‰      94
æ•°å­¦_å¼ ä¸‰      92
Python_å¼ ä¸‰    98
ç‰©ç†_å¼ ä¸‰      87
åŒ–å­¦_å¼ ä¸‰      92
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2æœ€å¤§å€¼çš„ç´¢å¼•&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2.idxmax())</span><br></pre></td></tr></table></figure><pre><code>s2æœ€å¤§å€¼çš„ç´¢å¼•============
Python
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æµ‹è¯•s2çš„å€¼æ˜¯å¦åœ¨æŒ‡å®šåŒºé—´å†…&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2.between(<span class="number">90</span>,<span class="number">94</span>,inclusive=<span class="literal">True</span>))</span><br></pre></td></tr></table></figure><pre><code>æµ‹è¯•s2çš„å€¼æ˜¯å¦åœ¨æŒ‡å®šåŒºé—´å†…======
è¯­æ–‡       True
æ•°å­¦       True
Python    False
ç‰©ç†      False
åŒ–å­¦       True
dtype: bool
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹s2ä¸­å¤§äºä¸­å€¼çš„æ•°æ®&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2[s2&gt;s2.median()])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹s2ä¸­å¤§äºä¸­å€¼çš„æ•°æ®========
è¯­æ–‡      94
Python    98
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹s2ä¸­90åˆ†ä»¥ä¸Šçš„æ•°æ®&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2[s2&gt;<span class="number">90</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹s2ä¸­90åˆ†ä»¥ä¸Šçš„æ•°æ®=======
è¯­æ–‡      94
æ•°å­¦      92
Python    98
åŒ–å­¦      92
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2ä¸æ•°å­—ä¹‹é—´çš„è¿ç®—&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">round</span>((s2**<span class="number">0.5</span>)*<span class="number">10</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure><pre><code>s2ä¸æ•°å­—ä¹‹é—´çš„è¿ç®—==========
è¯­æ–‡      97.0
æ•°å­¦      95.9
Python    99.0
ç‰©ç†      93.3
åŒ–å­¦      95.9
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2çš„ä¸­å€¼&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2.median())</span><br></pre></td></tr></table></figure><pre><code>s2çš„ä¸­å€¼===============
92.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;s2ä¸­æœ€å°çš„2ä¸ªå€¼&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(s2.nsmallest(<span class="number">2</span>))</span><br></pre></td></tr></table></figure><pre><code>s2ä¸­æœ€å°çš„2ä¸ªå€¼===========
ç‰©ç†    87
æ•°å­¦    92
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸¤ä¸ªç­‰é•¿Serieså¯¹è±¡ä¹‹é—´å¯ä»¥è¿›è¡Œå››åˆ™è¿ç®—å’Œå¹‚è¿ç®—</span></span><br><span class="line"><span class="comment">#åªå¯¹ä¸¤ä¸ªSerieså¯¹è±¡ä¸­éƒ½æœ‰çš„ç´¢å¼•å¯¹åº”çš„å€¼è¿›è¡Œè®¡ç®—</span></span><br><span class="line"><span class="comment">#éå…±åŒç´¢å¼•å¯¹åº”çš„å€¼ä¸ºç©ºå€¼NaN</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸¤ä¸ªSerieså¯¹è±¡ç›¸åŠ &#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>))+pd.Series(<span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>)))</span><br></pre></td></tr></table></figure><pre><code>ä¸¤ä¸ªSerieså¯¹è±¡ç›¸åŠ ========
0     5
1     7
2     9
3    11
4    13
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå€¼çš„å¹³æ–¹å¯¹5çš„ä½™æ•°&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).pipe(<span class="keyword">lambda</span> x,y,z:(x**y)%z,<span class="number">2</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå€¼çš„å¹³æ–¹å¯¹5çš„ä½™æ•°=========
0    0
1    1
2    4
3    4
4    1
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå€¼åŠ 3ä¹‹åå†ä¹˜ä»¥3&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).pipe(<span class="keyword">lambda</span> x:x+<span class="number">3</span>).pipe(<span class="keyword">lambda</span> x:x*<span class="number">3</span>))</span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå€¼åŠ 3ä¹‹åå†ä¹˜ä»¥3=========
0     9
1    12
2    15
3    18
4    21
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå€¼åŠ 3&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).apply(<span class="keyword">lambda</span> x:x+<span class="number">3</span>))</span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå€¼åŠ 3===============
0    3
1    4
2    5
3    6
4    7
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ ‡å‡†å·®ã€æ— åæ–¹å·®ã€æ— åæ ‡å‡†å·®&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).std())</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).var())</span><br><span class="line"><span class="built_in">print</span>(pd.Series(<span class="built_in">range</span>(<span class="number">5</span>)).sem())</span><br></pre></td></tr></table></figure><pre><code>æ ‡å‡†å·®ã€æ— åæ–¹å·®ã€æ— åæ ‡å‡†å·®======
1.5811388300841898
2.5
0.7071067811865476
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ç­‰ä»·äºTrueçš„å€¼&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">any</span>(pd.Series([<span class="number">3</span>,<span class="number">0</span>,<span class="literal">True</span>])))</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ç­‰ä»·äºTrueçš„å€¼=====
True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æ˜¯å¦æ‰€æœ‰å€¼éƒ½ç­‰ä»·äºTrue&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">all</span>(pd.Series([<span class="number">3</span>,<span class="number">0</span>,<span class="literal">True</span>])))</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æ˜¯å¦æ‰€æœ‰å€¼éƒ½ç­‰ä»·äºTrue=====
False
</code></pre><h2 id="æ—¶é—´åºåˆ—ä¸å¸¸ç”¨æ“ä½œ">æ—¶é—´åºåˆ—ä¸å¸¸ç”¨æ“ä½œ</h2><p>æ—¶é—´åºåˆ—å¯¹è±¡ä¸€èˆ¬ä½¿ç”¨pandasçš„date_range()å‡½æ•°ç”Ÿæˆï¼Œå¯ä»¥æŒ‡å®šæ—¥æœŸæ—¶é—´çš„èµ·å§‹å’Œç»“æŸèŒƒå›´ã€æ—¶é—´é—´éš”ä»¥åŠæ•°æ®æ•°é‡ç­‰å‚æ•°ï¼Œè¯­æ³•ä¸ºï¼š</p><p>date_range(start=None, end=None, periods=None,freq=â€˜Dâ€™, tz=None, normalize=False,name=None, closed=None, **kwargs)</p><p>stardæŒ‡å®šèµ·å§‹æ—¥æœŸï¼ŒendæŒ‡å®šç»“æŸæ—¥æœŸï¼ŒperiodsæŒ‡å®šç”Ÿæˆçš„æ•°æ®æ•°é‡</p><p>freqæŒ‡å®šæ—¶é—´é—´éš”ï¼ŒDè¡¨ç¤ºå¤©ï¼ŒWè¡¨ç¤ºå‘¨ï¼ŒHè¡¨ç¤ºå°æ—¶</p><p>Mè¡¨ç¤ºæœˆæœ«æœ€åä¸€å¤©ï¼ŒMSè¡¨ç¤ºæœˆåˆç¬¬ä¸€å¤©</p><p>Tè¡¨ç¤ºåˆ†é’Ÿï¼ŒYè¡¨ç¤ºå¹´æœ«æœ€åä¸€å¤©ï¼ŒYSè¡¨ç¤ºå¹´åˆç¬¬ä¸€å¤©</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”5å¤©&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190601&#x27;</span>,end=<span class="string">&#x27;20190630&#x27;</span>,freq=<span class="string">&#x27;5D&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”5å¤©
DatetimeIndex(['2019-06-01', '2019-06-06', '2019-06-11', '2019-06-16',
               '2019-06-21', '2019-06-26'],
              dtype='datetime64[ns]', freq='5D')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”1å‘¨&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190601&#x27;</span>,end=<span class="string">&#x27;20190630&#x27;</span>,freq=<span class="string">&#x27;W&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”1å‘¨
DatetimeIndex(['2019-06-02', '2019-06-09', '2019-06-16', '2019-06-23',
               '2019-06-30'],
              dtype='datetime64[ns]', freq='W-SUN')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”2å¤©ï¼Œ5ä¸ªæ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190601&#x27;</span>,periods=<span class="number">5</span>,freq=<span class="string">&#x27;2D&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”2å¤©ï¼Œ5ä¸ªæ•°æ®
DatetimeIndex(['2019-06-01', '2019-06-03', '2019-06-05', '2019-06-07',
               '2019-06-09'],
              dtype='datetime64[ns]', freq='2D')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”3å°æ—¶ï¼Œ8ä¸ªæ•°æ®&#x27;</span>.ljust(<span class="number">30</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190601&#x27;</span>,periods=<span class="number">8</span>,freq=<span class="string">&#x27;3H&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”3å°æ—¶ï¼Œ8ä¸ªæ•°æ®====================
DatetimeIndex(['2019-06-01 00:00:00', '2019-06-01 03:00:00',
               '2019-06-01 06:00:00', '2019-06-01 09:00:00',
               '2019-06-01 12:00:00', '2019-06-01 15:00:00',
               '2019-06-01 18:00:00', '2019-06-01 21:00:00'],
              dtype='datetime64[ns]', freq='3H')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;3:00å¼€å§‹ï¼Œé—´éš”1åˆ†é’Ÿï¼Œ12ä¸ªæ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;201906010300&#x27;</span>,periods=<span class="number">12</span>,freq=<span class="string">&#x27;T&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>3:00å¼€å§‹ï¼Œé—´éš”1åˆ†é’Ÿï¼Œ12ä¸ªæ•°æ®
DatetimeIndex(['2019-06-01 03:00:00', '2019-06-01 03:01:00',
               '2019-06-01 03:02:00', '2019-06-01 03:03:00',
               '2019-06-01 03:04:00', '2019-06-01 03:05:00',
               '2019-06-01 03:06:00', '2019-06-01 03:07:00',
               '2019-06-01 03:08:00', '2019-06-01 03:09:00',
               '2019-06-01 03:10:00', '2019-06-01 03:11:00'],
              dtype='datetime64[ns]', freq='T')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”1æœˆï¼Œæœˆæœ«æœ€åä¸€å¤©&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190101&#x27;</span>,end=<span class="string">&#x27;20191231&#x27;</span>,freq=<span class="string">&#x27;M&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”1æœˆï¼Œæœˆæœ«æœ€åä¸€å¤©
DatetimeIndex(['2019-01-31', '2019-02-28', '2019-03-31', '2019-04-30',
               '2019-05-31', '2019-06-30', '2019-07-31', '2019-08-31',
               '2019-09-30', '2019-10-31', '2019-11-30', '2019-12-31'],
              dtype='datetime64[ns]', freq='M')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”1å¹´ï¼Œ6ä¸ªæ•°æ®ï¼Œå¹´æœ«æœ€åä¸€å¤©&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190101&#x27;</span>,periods=<span class="number">6</span>,freq=<span class="string">&#x27;A&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”1å¹´ï¼Œ6ä¸ªæ•°æ®ï¼Œå¹´æœ«æœ€åä¸€å¤©
DatetimeIndex(['2019-12-31', '2020-12-31', '2021-12-31', '2022-12-31',
               '2023-12-31', '2024-12-31'],
              dtype='datetime64[ns]', freq='A-DEC')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é—´éš”1å¹´ï¼Œ6ä¸ªæ•°æ®ï¼Œå¹´åˆç¬¬ä¸€å¤©&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.date_range(start=<span class="string">&#x27;20190101&#x27;</span>,periods=<span class="number">6</span>,freq=<span class="string">&#x27;AS&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>é—´éš”1å¹´ï¼Œ6ä¸ªæ•°æ®ï¼Œå¹´åˆç¬¬ä¸€å¤©
DatetimeIndex(['2019-01-01', '2020-01-01', '2021-01-01', '2022-01-01',
               '2023-01-01', '2024-01-01'],
              dtype='datetime64[ns]', freq='AS-JAN')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨æ—¥æœŸæ—¶é—´åšç´¢å¼•ï¼Œåˆ›å»ºSerieså¯¹è±¡</span></span><br><span class="line">data=pd.Series(index=pd.date_range(start=<span class="string">&#x27;20190701&#x27;</span>,periods=<span class="number">24</span>,freq=<span class="string">&#x27;H&#x27;</span>),data=<span class="built_in">range</span>(<span class="number">24</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å‰5æ¡æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>å‰5æ¡æ•°æ®
2019-07-01 00:00:00    0
2019-07-01 01:00:00    1
2019-07-01 02:00:00    2
2019-07-01 03:00:00    3
2019-07-01 04:00:00    4
Freq: H, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;3å°æ—¶é‡é‡‡æ ·ï¼Œè®¡ç®—å‡å€¼&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data.resample(<span class="string">&#x27;3H&#x27;</span>).mean())</span><br></pre></td></tr></table></figure><pre><code>3å°æ—¶é‡é‡‡æ ·ï¼Œè®¡ç®—å‡å€¼
2019-07-01 00:00:00     1
2019-07-01 03:00:00     4
2019-07-01 06:00:00     7
2019-07-01 09:00:00    10
2019-07-01 12:00:00    13
2019-07-01 15:00:00    16
2019-07-01 18:00:00    19
2019-07-01 21:00:00    22
Freq: 3H, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;5å°æ—¶é‡é‡‡æ ·ï¼Œæ±‚å’Œ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data.resample(<span class="string">&#x27;5H&#x27;</span>).<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>5å°æ—¶é‡é‡‡æ ·ï¼Œæ±‚å’Œ
2019-07-01 00:00:00    10
2019-07-01 05:00:00    35
2019-07-01 10:00:00    60
2019-07-01 15:00:00    85
2019-07-01 20:00:00    86
Freq: 5H, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;5å°æ—¶é‡é‡‡æ ·,ç»Ÿè®¡OHLCå€¼&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data.resample(<span class="string">&#x27;5H&#x27;</span>).ohlc())</span><br></pre></td></tr></table></figure><pre><code>5å°æ—¶é‡é‡‡æ ·,ç»Ÿè®¡OHLCå€¼
                     open  high  low  close
2019-07-01 00:00:00     0     4    0      4
2019-07-01 05:00:00     5     9    5      9
2019-07-01 10:00:00    10    14   10     14
2019-07-01 15:00:00    15    19   15     19
2019-07-01 20:00:00    20    23   20     23
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ‰€æœ‰æ—¥æœŸæ›¿æ¢ä¸ºç¬¬äºŒå¤©&#x27;</span>)</span><br><span class="line">data.index=data.index+pd.Timedelta(<span class="string">&#x27;1D&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æ‰€æœ‰æ—¥æœŸæ›¿æ¢ä¸ºç¬¬äºŒå¤©
2019-07-02 00:00:00    0
2019-07-02 01:00:00    1
2019-07-02 02:00:00    2
2019-07-02 03:00:00    3
2019-07-02 04:00:00    4
Freq: H, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ˜¯å‘¨å‡ &#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.Timestamp(<span class="string">&#x27;20190323&#x27;</span>).day_name())</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ˜¯å‘¨å‡ 
Saturday
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ—¶é—´æ‰€åœ¨å¹´æ˜¯å¦ä¸ºé—°å¹´&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.Timestamp(<span class="string">&#x27;201909300800&#x27;</span>).is_leap_year)</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ—¶é—´æ‰€åœ¨å¹´æ˜¯å¦ä¸ºé—°å¹´
False
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ‰€åœ¨çš„å­£åº¦å’Œæœˆä»½&#x27;</span>)</span><br><span class="line">day=pd.Timestamp(<span class="string">&#x27;20191025&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(day.quarter,day.month)</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æŒ‡å®šæ—¥æœŸæ‰€åœ¨çš„å­£åº¦å’Œæœˆä»½
4 10
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;è½¬æ¢ä¸ºPythonçš„æ—¥æœŸæ—¶é—´å¯¹è±¡&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(day.to_pydatetime())</span><br></pre></td></tr></table></figure><pre><code>è½¬æ¢ä¸ºPythonçš„æ—¥æœŸæ—¶é—´å¯¹è±¡
2019-10-25 00:00:00
</code></pre><h2 id="äºŒç»´æ•°ç»„dataframe">äºŒç»´æ•°ç»„DataFrame</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df=pd.DataFrame(np.random.randint(<span class="number">1</span>,<span class="number">20</span>,(<span class="number">5</span>,<span class="number">3</span>)),index=<span class="built_in">range</span>(<span class="number">5</span>),columns=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><pre><code>    A   B   C
0   9  16   6
1   2  17   1
2   9   5   7
3  16  16  14
4   9  12   1
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(np.random.randint(<span class="number">5</span>,<span class="number">15</span>,(<span class="number">13</span>,<span class="number">3</span>)),</span><br><span class="line">                index=pd.date_range(start=<span class="string">&#x27;201907150900&#x27;</span>,</span><br><span class="line">                                    end=<span class="string">&#x27;201907152100&#x27;</span>,</span><br><span class="line">                                    freq=<span class="string">&#x27;H&#x27;</span>),</span><br><span class="line">                columns=[<span class="string">&#x27;ç†Ÿé£Ÿ&#x27;</span>,<span class="string">&#x27;åŒ–å¦†å“&#x27;</span>,<span class="string">&#x27;æ—¥ç”¨å“&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><pre><code>                     ç†Ÿé£Ÿ  åŒ–å¦†å“  æ—¥ç”¨å“
2019-07-15 09:00:00    12      13      10
2019-07-15 10:00:00     6      10       5
2019-07-15 11:00:00     5      13      12
2019-07-15 12:00:00     5       5      12
2019-07-15 13:00:00    13      11      12
2019-07-15 14:00:00     7       6       9
2019-07-15 15:00:00    10      10      13
2019-07-15 16:00:00    14      10       7
2019-07-15 17:00:00    13      14      14
2019-07-15 18:00:00     6      13       9
2019-07-15 19:00:00     7       7      10
2019-07-15 20:00:00     8       9      13
2019-07-15 21:00:00    13      11       5
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(&#123;<span class="string">&#x27;è¯­æ–‡&#x27;</span>:[<span class="number">87</span>,<span class="number">79</span>,<span class="number">67</span>,<span class="number">92</span>],</span><br><span class="line">                 <span class="string">&#x27;æ•°å­¦&#x27;</span>:[<span class="number">93</span>,<span class="number">89</span>,<span class="number">80</span>,<span class="number">77</span>],</span><br><span class="line">                 <span class="string">&#x27;è‹±è¯­&#x27;</span>:[<span class="number">90</span>,<span class="number">80</span>,<span class="number">70</span>,<span class="number">75</span>]&#125;,</span><br><span class="line">                index=[<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;æå››&#x27;</span>,<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="string">&#x27;èµµå…­&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><pre><code>      è¯­æ–‡  æ•°å­¦  è‹±è¯­
å¼ ä¸‰    87    93    90
æå››    79    89    80
ç‹äº”    67    80    70
èµµå…­    92    77    75
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:<span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>),<span class="string">&#x27;B&#x27;</span>:<span class="number">3</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><pre><code>   A  B
0  5  3
1  6  3
2  7  3
3  8  3
4  9  3
</code></pre><h1 id="dataframeæ•°æ®å¤„ç†ä¸åˆ†æå®æˆ˜">DataFrameæ•°æ®å¤„ç†ä¸åˆ†æå®æˆ˜</h1><h2 id="è¯»å–excelæ–‡ä»¶ä¸­çš„æ•°æ®">è¯»å–Excelæ–‡ä»¶ä¸­çš„æ•°æ®</h2><p>read_excel(io, sheetname=0, header=0, skiprows=None, skip_footer=0, index_col=None, names=None, parse_cols=None, parse_dates=False, date_parser=None, na_values=None, thousands=None, convert_float=True, has_index_names=None, converters=None, true_values=None, false_values=None, engine=None, squeeze=False, **kwds)</p><p>1ï¼‰å‚æ•°ioç”¨æ¥æŒ‡å®šè¦è¯»å–çš„Excelæ–‡ä»¶ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„æ–‡ä»¶è·¯å¾„ã€urlæˆ–æ–‡ä»¶å¯¹è±¡ï¼›</p><p>2ï¼‰å‚æ•°sheetnameç”¨æ¥æŒ‡å®šè¦è¯»å–çš„worksheetï¼Œå¯ä»¥æ˜¯è¡¨ç¤ºworksheetåºå·çš„æ•´æ•°æˆ–è¡¨ç¤ºworksheetåå­—çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœè¦åŒæ—¶è¯»å–å¤šä¸ªworksheetå¯ä»¥ä½¿ç”¨å½¢å¦‚[0, 1, â€˜sheet3â€™]çš„åˆ—è¡¨ï¼Œå¦‚æœæŒ‡å®šè¯¥å‚æ•°ä¸ºNoneåˆ™è¡¨ç¤ºè¯»å–æ‰€æœ‰worksheetå¹¶è¿”å›åŒ…å«å¤šä¸ªDataFrameç»“æ„çš„å­—å…¸ï¼Œè¯¥å‚æ•°é»˜è®¤ä¸º0ï¼ˆè¡¨ç¤ºè¯»å–ç¬¬ä¸€ä¸ªworksheetä¸­çš„æ•°æ®ï¼‰ï¼›</p><p>3ï¼‰å‚æ•°headersç”¨æ¥æŒ‡å®šworksheetä¸­è¡¨ç¤ºè¡¨å¤´æˆ–åˆ—åçš„è¡Œç´¢å¼•ï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœæ²¡æœ‰ä½œä¸ºè¡¨å¤´çš„è¡Œï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®šheaders=Noneï¼›</p><p>4ï¼‰å‚æ•°skiprowsç”¨æ¥æŒ‡å®šè¦è·³è¿‡çš„è¡Œç´¢å¼•ç»„æˆçš„åˆ—è¡¨ï¼›</p><p>5ï¼‰å‚æ•°index_colç”¨æ¥æŒ‡å®šä½œä¸ºDataFrameç´¢å¼•çš„åˆ—ä¸‹æ ‡ï¼Œå¯ä»¥æ˜¯åŒ…å«è‹¥å¹²åˆ—ä¸‹æ ‡çš„åˆ—è¡¨ï¼›</p><p>6ï¼‰å‚æ•°namesç”¨æ¥æŒ‡å®šè¯»å–æ•°æ®åä½¿ç”¨çš„åˆ—åï¼›</p><p>7ï¼‰å‚æ•°thousandsç”¨æ¥æŒ‡å®šæ–‡æœ¬è½¬æ¢ä¸ºæ•°å­—æ—¶çš„åƒåˆ†ç¬¦ï¼Œå¦‚æœExcelä¸­æœ‰ä»¥æ–‡æœ¬å½¢å¼å­˜å‚¨çš„æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å‚æ•°ï¼›</p><p>8ï¼‰å‚æ•°usecolsç”¨æ¥æŒ‡å®šè¦è¯»å–çš„åˆ—çš„ç´¢å¼•æˆ–åå­—ï¼Œå¦‚æœç¡®å®šå­—æ®µç±»å‹å¯ä»¥ä½¿ç”¨{â€˜colâ€™:type}çš„å½¢å¼æé«˜é€Ÿåº¦ï¼›</p><p>9ï¼‰å‚æ•°na_valuesç”¨æ¥æŒ‡å®šå“ªäº›å€¼è¢«è§£é‡Šä¸ºç¼ºå¤±å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df=pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[:<span class="number">10</span>],end=<span class="string">&#x27;\n\n&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>   å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0  1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
1  1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
2  1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0      é£Ÿå“
3  1004  èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0      é£Ÿå“
4  1005  å‘¨ä¸ƒ  2019-03-01   9ï¼š00-14ï¼š00   994.0    æ—¥ç”¨å“
5  1006  é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
6  1006  é’±å…«  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
7  1001  å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
8  1001  å¼ ä¸‰  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
9  1002  æå››  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
</code></pre><p>â€‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1=pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>,skiprows=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>],index_col=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(df1[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>      å·¥å·        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
å§“å                                                   
æå››  1002  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
èµµå…­  1004  2019-03-01  14ï¼š00-21ï¼š00  1320.0      é£Ÿå“
é’±å…«  1006  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
é’±å…«  1006  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
å¼ ä¸‰  1001  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
å¼ ä¸‰  1001  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
æå››  1002  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
ç‹äº”  1003  2019-03-02   9ï¼š00-14ï¼š00   936.0      é£Ÿå“
èµµå…­  1004  2019-03-02  14ï¼š00-21ï¼š00   906.0      é£Ÿå“
å‘¨ä¸ƒ  1005  2019-03-02   9ï¼š00-14ï¼š00  1444.0    æ—¥ç”¨å“
</code></pre><h2 id="ç­›é€‰ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ•°æ®">ç­›é€‰ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ•°æ®</h2><p>DataFrameçš„ç´¢å¼•æˆ–åˆ‡ç‰‡æœ‰å››å¤§ç±»ï¼š</p><p>ç´¢å¼•å•å…ƒç´ ï¼šåŸºäºæ ‡ç­¾çš„atã€åŸºäºä½ç½®çš„iat</p><p>åˆ‡ç‰‡columnsï¼šç”¨.æ¥åˆ‡ç‰‡å•åˆ—ã€ç”¨[]æ¥åˆ‡ç‰‡å•åˆ—æˆ–å¤šåˆ—ã€åŸºäºæ ‡ç­¾çš„locã€åŸºäºä½ç½®çš„iloc</p><p>åˆ‡ç‰‡indexï¼šç”¨[]æ¥åˆ‡ç‰‡å•è¡Œæˆ–å¤šè¡Œã€åŸºäºæ ‡ç­¾çš„locã€åŸºäºä½ç½®çš„iloc</p><p>åˆ‡ç‰‡indexå’Œcolumnsï¼šåŸºäºæ ‡ç­¾çš„locã€åŸºäºä½ç½®çš„iloc</p><p>æ€»ä½“è§„å¾‹ï¼ŒåŸºäºæ ‡ç­¾å°±ç”¨atå’Œlocï¼ŒåŸºäºä½ç½®å°±ç”¨iatå’Œilocã€‚</p><h3 id="åŸºäºæ ‡ç­¾at">åŸºäºæ ‡ç­¾at</h3><p>at()æ ¹æ®è¡Œåˆ—çš„åç§°ï¼ŒæŸ¥è¯¢å¯¹åº”å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.at[<span class="number">2</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>1407.0
</code></pre><h3 id="åŸºäºä½ç½®iat">åŸºäºä½ç½®iat</h3><p>iat()æ ¹æ®è¡Œåˆ—çš„ä½ç½®ç¼–å·ï¼ŒæŸ¥è¯¢å¯¹åº”çš„å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.iat[<span class="number">2</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 249 entries, 0 to 248
Data columns (total 6 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   å·¥å·      249 non-null    int64  
 1   å§“å      249 non-null    object 
 2   æ—¥æœŸ      249 non-null    object 
 3   æ—¶æ®µ      249 non-null    object 
 4   äº¤æ˜“é¢     246 non-null    float64
 5   æŸœå°      249 non-null    object 
dtypes: float64(1), int64(1), object(4)
memory usage: 11.8+ KB
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.describe()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>å·¥å·</th><th>äº¤æ˜“é¢</th></tr></thead><tbody><tr><th>count</th><td>249.000000</td><td>246.000000</td></tr><tr><th>mean</th><td>1003.469880</td><td>1330.313008</td></tr><tr><th>std</th><td>1.668039</td><td>904.300720</td></tr><tr><th>min</th><td>1001.000000</td><td>53.000000</td></tr><tr><th>25%</th><td>1002.000000</td><td>1031.250000</td></tr><tr><th>50%</th><td>1003.000000</td><td>1259.000000</td></tr><tr><th>75%</th><td>1005.000000</td><td>1523.000000</td></tr><tr><th>max</th><td>1006.000000</td><td>12100.000000</td></tr></tbody></table></div><h3 id="å•åˆ—çš„é€‰å–">å•åˆ—çš„é€‰å–</h3><p>å¦‚æœè¿½æ±‚ç®€æ´å’Œæ–¹ä¾¿ï¼Œç”¨.å’Œ[]ï¼›å¦‚æœè¿½æ±‚ä¸€è‡´å’Œæ¸…æ™°ï¼Œç”¨locå’Œiloc</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]</span><br></pre></td></tr></table></figure><pre><code>å§“å
æå››     954.0
èµµå…­    1320.0
é’±å…«    1421.0
é’±å…«    1226.0
å¼ ä¸‰    1442.0
         ...  
æå››     859.0
èµµå…­    1668.0
èµµå…­    1722.0
ç‹äº”    1274.0
é’±å…«     812.0
Name: äº¤æ˜“é¢, Length: 246, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.loc[:,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]</span><br></pre></td></tr></table></figure><pre><code>å§“å
æå››     954.0
èµµå…­    1320.0
é’±å…«    1421.0
é’±å…«    1226.0
å¼ ä¸‰    1442.0
         ...  
æå››     859.0
èµµå…­    1668.0
èµµå…­    1722.0
ç‹äº”    1274.0
é’±å…«     812.0
Name: äº¤æ˜“é¢, Length: 246, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.äº¤æ˜“é¢</span><br></pre></td></tr></table></figure><pre><code>å§“å
æå››     954.0
èµµå…­    1320.0
é’±å…«    1421.0
é’±å…«    1226.0
å¼ ä¸‰    1442.0
         ...  
æå››     859.0
èµµå…­    1668.0
èµµå…­    1722.0
ç‹äº”    1274.0
é’±å…«     812.0
Name: äº¤æ˜“é¢, Length: 246, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.iloc[:,<span class="number">3</span>]</span><br></pre></td></tr></table></figure><pre><code>å§“å
æå››     954.0
èµµå…­    1320.0
é’±å…«    1421.0
é’±å…«    1226.0
å¼ ä¸‰    1442.0
         ...  
æå››     859.0
èµµå…­    1668.0
èµµå…­    1722.0
ç‹äº”    1274.0
é’±å…«     812.0
Name: äº¤æ˜“é¢, Length: 246, dtype: float64
</code></pre><h3 id="å¤šåˆ—çš„é€‰å–">å¤šåˆ—çš„é€‰å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="string">&#x27;æŸœå°&#x27;</span>]])</span><br></pre></td></tr></table></figure><pre><code>     å§“å        æ—¥æœŸ      æŸœå°
0    å¼ ä¸‰  2019-03-01    åŒ–å¦†å“
1    æå››  2019-03-01    åŒ–å¦†å“
2    ç‹äº”  2019-03-01      é£Ÿå“
3    èµµå…­  2019-03-01      é£Ÿå“
4    å‘¨ä¸ƒ  2019-03-01    æ—¥ç”¨å“
..    ...         ...       ...
244  æå››  2019-03-31  è”¬èœæ°´æœ
245  èµµå…­  2019-03-31    æ—¥ç”¨å“
246  èµµå…­  2019-03-31    æ—¥ç”¨å“
247  ç‹äº”  2019-03-31      é£Ÿå“
248  é’±å…«  2019-03-31      é£Ÿå“

[249 rows x 3 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.loc[:,[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]])</span><br></pre></td></tr></table></figure><pre><code>     å§“å  äº¤æ˜“é¢
0    å¼ ä¸‰  1664.0
1    æå››   954.0
2    ç‹äº”  1407.0
3    èµµå…­  1320.0
4    å‘¨ä¸ƒ   994.0
..    ...     ...
244  æå››   859.0
245  èµµå…­  1668.0
246  èµµå…­  1722.0
247  ç‹äº”  1274.0
248  é’±å…«   812.0

[249 rows x 2 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.iloc[:,<span class="number">0</span>:<span class="number">2</span>])</span><br></pre></td></tr></table></figure><pre><code>     å·¥å·  å§“å
0    1001  å¼ ä¸‰
1    1002  æå››
2    1003  ç‹äº”
3    1004  èµµå…­
4    1005  å‘¨ä¸ƒ
..    ...   ...
244  1002  æå››
245  1004  èµµå…­
246  1004  èµµå…­
247  1003  ç‹äº”
248  1006  é’±å…«

[249 rows x 2 columns]
</code></pre><h3 id="å•è¡Œçš„é€‰å–">å•è¡Œçš„é€‰å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>å·¥å·               1006
å§“å               é’±å…«
æ—¥æœŸ         2019-03-01
æ—¶æ®µ      14ï¼š00-21ï¼š00
äº¤æ˜“é¢           1421.0
æŸœå°             æ—¥ç”¨å“
Name: 5, dtype: object
</code></pre><h3 id="å¤šè¡Œçš„é€‰å–">å¤šè¡Œçš„é€‰å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[<span class="number">5</span>:<span class="number">11</span>])</span><br></pre></td></tr></table></figure><pre><code>    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
5   1006  é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
6   1006  é’±å…«  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
7   1001  å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
8   1001  å¼ ä¸‰  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
9   1002  æå››  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
10  1003  ç‹äº”  2019-03-02   9ï¼š00-14ï¼š00   936.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.loc[<span class="number">0</span>:<span class="number">5</span>,:])</span><br></pre></td></tr></table></figure><pre><code>   å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
0  1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0  åŒ–å¦†å“
1  1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0  åŒ–å¦†å“
2  1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0    é£Ÿå“
3  1004  èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0    é£Ÿå“
4  1005  å‘¨ä¸ƒ  2019-03-01   9ï¼š00-14ï¼š00   994.0  æ—¥ç”¨å“
5  1006  é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0  æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df1.iloc[[<span class="number">3</span>,<span class="number">5</span>,<span class="number">10</span>],:])</span><br></pre></td></tr></table></figure><pre><code>      å·¥å·        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
å§“å                                                   
é’±å…«  1006  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
å¼ ä¸‰  1001  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
é’±å…«  1006  2019-03-02  14ï¼š00-21ï¼š00  1141.0    æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]])</span><br></pre></td></tr></table></figure><pre><code>     å§“å  äº¤æ˜“é¢
0    å¼ ä¸‰  1664.0
1    æå››   954.0
2    ç‹äº”  1407.0
3    èµµå…­  1320.0
4    å‘¨ä¸ƒ   994.0
..    ...     ...
244  æå››   859.0
245  èµµå…­  1668.0
246  èµµå…­  1722.0
247  ç‹äº”  1274.0
248  é’±å…«   812.0

[249 rows x 2 columns]
</code></pre><h3 id="å—çš„é€‰å–">å—çš„é€‰å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df1.iloc[[<span class="number">3</span>,<span class="number">5</span>,<span class="number">10</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>]])</span><br></pre></td></tr></table></figure><pre><code>      å·¥å·        æ—¥æœŸ      æŸœå°
å§“å                            
é’±å…«  1006  2019-03-01  è”¬èœæ°´æœ
å¼ ä¸‰  1001  2019-03-02    åŒ–å¦†å“
é’±å…«  1006  2019-03-02    æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="string">&#x27;æŸœå°&#x27;</span>]][:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>   å§“å        æ—¥æœŸ    æŸœå°
0  å¼ ä¸‰  2019-03-01  åŒ–å¦†å“
1  æå››  2019-03-01  åŒ–å¦†å“
2  ç‹äº”  2019-03-01    é£Ÿå“
3  èµµå…­  2019-03-01    é£Ÿå“
4  å‘¨ä¸ƒ  2019-03-01  æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df.loc[[<span class="number">3</span>,<span class="number">5</span>,<span class="number">10</span>],[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]])</span><br></pre></td></tr></table></figure><pre><code>    å§“å  äº¤æ˜“é¢
3   èµµå…­  1320.0
5   é’±å…«  1421.0
10  ç‹äº”   936.0
</code></pre><h3 id="æ ¹æ®æ¡ä»¶è¿‡æ»¤è¡Œ-å¸ƒå°”ç´¢å¼•">æ ¹æ®æ¡ä»¶è¿‡æ»¤è¡Œï¼ˆå¸ƒå°”ç´¢å¼•ï¼‰</h3><p>å¸ƒå°”ç´¢å¼•å°±æ˜¯ç”¨ä¸€ä¸ªç”±å¸ƒå°”ç±»å‹å€¼ç»„æˆçš„æ•°ç»„æ¥é€‰æ‹©å…ƒç´ çš„æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]&gt;<span class="number">1700</span>])</span><br></pre></td></tr></table></figure><pre><code>     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ   äº¤æ˜“é¢      æŸœå°
18   1003  ç‹äº”  2019-03-03   9ï¼š00-14ï¼š00   1713.0      é£Ÿå“
47   1005  å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00   1778.0  è”¬èœæ°´æœ
48   1003  ç‹äº”  2019-03-07   9ï¼š00-14ï¼š00   1713.0    åŒ–å¦†å“
82   1006  é’±å…«  2019-03-11   9ï¼š00-14ï¼š00   1737.0      é£Ÿå“
105  1001  å¼ ä¸‰  2019-03-14   9ï¼š00-14ï¼š00  12100.0    æ—¥ç”¨å“
113  1002  æå››  2019-03-15   9ï¼š00-14ï¼š00   1798.0    æ—¥ç”¨å“
121  1002  æå››  2019-03-16   9ï¼š00-14ï¼š00   1788.0    æ—¥ç”¨å“
136  1001  å¼ ä¸‰  2019-03-17  14ï¼š00-21ï¼š00   1791.0      é£Ÿå“
185  1004  èµµå…­  2019-03-24   9ï¼š00-14ï¼š00   1775.0    åŒ–å¦†å“
188  1002  æå››  2019-03-24  14ï¼š00-21ï¼š00   1793.0  è”¬èœæ°´æœ
205  1001  å¼ ä¸‰  2019-03-26   9ï¼š00-14ï¼š00   1746.0    æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28   9ï¼š00-14ï¼š00   9031.0      é£Ÿå“
227  1005  å‘¨ä¸ƒ  2019-03-29   9ï¼š00-14ï¼š00   1737.0  è”¬èœæ°´æœ
246  1004  èµµå…­  2019-03-31  14ï¼š00-21ï¼š00   1722.0    æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¼ ä¸‰ä¸‹åˆç­çš„äº¤æ˜“æƒ…å†µ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;æ—¶æ®µ&#x27;</span>]==<span class="string">&#x27;14ï¼š00-21ï¼š00&#x27;</span>][:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>å¼ ä¸‰ä¸‹åˆç­çš„äº¤æ˜“æƒ…å†µ
    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
1   1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
3   1004  èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0      é£Ÿå“
5   1006  é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
7   1001  å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
9   1002  æå››  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
11  1004  èµµå…­  2019-03-02  14ï¼š00-21ï¼š00   906.0      é£Ÿå“
13  1006  é’±å…«  2019-03-02  14ï¼š00-21ï¼š00  1141.0    æ—¥ç”¨å“
15  1003  ç‹äº”  2019-03-02  14ï¼š00-21ï¼š00  1179.0  è”¬èœæ°´æœ
17  1002  æå››  2019-03-03  14ï¼š00-21ï¼š00  1034.0    åŒ–å¦†å“
19  1004  èµµå…­  2019-03-03  14ï¼š00-21ï¼š00  1236.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸‹åˆç­çš„äº¤æ˜“æƒ…å†µ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[(df.å§“å==<span class="string">&#x27;å¼ ä¸‰&#x27;</span>)&amp;(df.æ—¶æ®µ==<span class="string">&#x27;14ï¼š00-21ï¼š00&#x27;</span>)][:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>ä¸‹åˆç­çš„äº¤æ˜“æƒ…å†µ
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
7    1001  å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
39   1001  å¼ ä¸‰  2019-03-05  14ï¼š00-21ï¼š00   856.0  è”¬èœæ°´æœ
73   1001  å¼ ä¸‰  2019-03-10  14ï¼š00-21ï¼š00  1040.0    åŒ–å¦†å“
91   1001  å¼ ä¸‰  2019-03-12  14ï¼š00-21ï¼š00  1435.0      é£Ÿå“
99   1001  å¼ ä¸‰  2019-03-13  14ï¼š00-21ï¼š00  1333.0      é£Ÿå“
112  1001  å¼ ä¸‰  2019-03-14  14ï¼š00-21ï¼š00  1261.0  è”¬èœæ°´æœ
120  1001  å¼ ä¸‰  2019-03-15  14ï¼š00-21ï¼š00  1035.0  è”¬èœæ°´æœ
128  1001  å¼ ä¸‰  2019-03-16  14ï¼š00-21ï¼š00  1408.0  è”¬èœæ°´æœ
136  1001  å¼ ä¸‰  2019-03-17  14ï¼š00-21ï¼š00  1791.0      é£Ÿå“
144  1001  å¼ ä¸‰  2019-03-18  14ï¼š00-21ï¼š00  1378.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¼ ä¸‰å’Œæå››2äººé”€å”®æ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;å§“å&#x27;</span>].isin([<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;æå››&#x27;</span>])][<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>å¼ ä¸‰å’Œæå››2äººé”€å”®æ€»é¢
116860.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ—¥ç”¨å“æŸœå°é”€å”®æ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;æŸœå°&#x27;</span>]==<span class="string">&#x27;æ—¥ç”¨å“&#x27;</span>][<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>æ—¥ç”¨å“æŸœå°é”€å”®æ€»é¢
88162.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢åœ¨æŒ‡å®šèŒƒå›´å†…çš„è®°å½•&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].between(<span class="number">800</span>,<span class="number">850</span>)])</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢åœ¨æŒ‡å®šèŒƒå›´å†…çš„è®°å½•
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
41   1002  æå››  2019-03-06  14ï¼š00-21ï¼š00   822.0    åŒ–å¦†å“
55   1002  æå››  2019-03-07  14ï¼š00-21ï¼š00   831.0  è”¬èœæ°´æœ
59   1004  èµµå…­  2019-03-08  14ï¼š00-21ï¼š00   825.0      é£Ÿå“
86   1003  ç‹äº”  2019-03-11   9ï¼š00-14ï¼š00   801.0  è”¬èœæ°´æœ
94   1003  ç‹äº”  2019-03-12   9ï¼š00-14ï¼š00   831.0  è”¬èœæ°´æœ
106  1002  æå››  2019-03-14  14ï¼š00-21ï¼š00   822.0    æ—¥ç”¨å“
129  1002  æå››  2019-03-17   9ï¼š00-14ï¼š00   828.0    æ—¥ç”¨å“
132  1006  é’±å…«  2019-03-17  14ï¼š00-21ï¼š00   840.0  è”¬èœæ°´æœ
137  1002  æå››  2019-03-18   9ï¼š00-14ï¼š00   824.0    åŒ–å¦†å“
147  1003  ç‹äº”  2019-03-19   9ï¼š00-14ï¼š00   846.0  è”¬èœæ°´æœ
152  1001  å¼ ä¸‰  2019-03-19  14ï¼š00-21ï¼š00   844.0      é£Ÿå“
160  1001  å¼ ä¸‰  2019-03-20  14ï¼š00-21ï¼š00   829.0      é£Ÿå“
163  1006  é’±å…«  2019-03-21   9ï¼š00-14ï¼š00   807.0  è”¬èœæ°´æœ
233  1001  å¼ ä¸‰  2019-03-30  14ï¼š00-21ï¼š00   850.0    åŒ–å¦†å“
248  1006  é’±å…«  2019-03-31  14ï¼š00-21ï¼š00   812.0      é£Ÿå“
</code></pre><h3 id="é«˜çº§ç´¢å¼•-å¤šå±‚ç´¢å¼•">é«˜çº§ç´¢å¼•ï¼ˆå¤šå±‚ç´¢å¼•ï¼‰</h3><p>ç”¨MultiIndexå‡½æ•°åˆ›å»ºã€Œå¤šå±‚indexã€midxå’Œã€Œå¤šå±‚columnsã€mcolã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data=[[<span class="string">&#x27;ç”µå•†&#x27;</span>,<span class="number">101550</span>,<span class="number">176.92</span>,<span class="number">16175610</span>],</span><br><span class="line">[<span class="string">&#x27;ç”µå•†&#x27;</span>,<span class="number">175336</span>,<span class="number">25.95</span>,<span class="number">27113291</span>],</span><br><span class="line">[<span class="string">&#x27;é‡‘è&#x27;</span>,<span class="number">60348</span>,<span class="number">41.79</span>,<span class="number">10132145</span>],</span><br><span class="line">[<span class="string">&#x27;é‡‘è&#x27;</span>,<span class="number">36600</span>,<span class="number">196.00</span>,<span class="number">2626634</span>]]</span><br><span class="line">midx=pd.MultiIndex([[<span class="string">&#x27;ä¸­å›½&#x27;</span>,<span class="string">&#x27;ç¾å›½&#x27;</span>],[<span class="string">&#x27;BABA&#x27;</span>,<span class="string">&#x27;JD&#x27;</span>,<span class="string">&#x27;GS&#x27;</span>,<span class="string">&#x27;MS&#x27;</span>]],</span><br><span class="line">                    [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]],</span><br><span class="line">                    names=[<span class="string">&#x27;åœ°åŒº&#x27;</span>,<span class="string">&#x27;ä»£å·&#x27;</span>])</span><br><span class="line">mcol=pd.MultiIndex([[<span class="string">&#x27;å…¬å¸æ•°æ®&#x27;</span>,<span class="string">&#x27;äº¤æ˜“æ•°æ®&#x27;</span>],</span><br><span class="line">                        [<span class="string">&#x27;è¡Œä¸š&#x27;</span>,<span class="string">&#x27;é›‡å‘˜&#x27;</span>,<span class="string">&#x27;ä»·æ ¼&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é‡&#x27;</span>]],</span><br><span class="line">                        [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]],</span><br><span class="line">                        names=[<span class="string">&#x27;æ¦‚æ‹¬&#x27;</span>,<span class="string">&#x27;ç»†åˆ†&#x27;</span>])</span><br><span class="line">df2=pd.DataFrame(data,index=midx,columns=mcol)</span><br><span class="line">df2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr><th></th><th>æ¦‚æ‹¬</th><th colspan="2" halign="left">å…¬å¸æ•°æ®</th><th colspan="2" halign="left">äº¤æ˜“æ•°æ®</th></tr><tr><th></th><th>ç»†åˆ†</th><th>è¡Œä¸š</th><th>é›‡å‘˜</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th></tr><tr><th>åœ°åŒº</th><th>ä»£å·</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th rowspan="2" valign="top">ä¸­å›½</th><th>BABA</th><td>ç”µå•†</td><td>101550</td><td>176.92</td><td>16175610</td></tr><tr><th>JD</th><td>ç”µå•†</td><td>175336</td><td>25.95</td><td>27113291</td></tr><tr><th rowspan="2" valign="top">ç¾å›½</th><th>GS</th><td>é‡‘è</td><td>60348</td><td>41.79</td><td>10132145</td></tr><tr><th>MS</th><td>é‡‘è</td><td>36600</td><td>196.00</td><td>2626634</td></tr></tbody></table></div><p>è¿™ä¸ªDataFrameçš„indexå’Œcolumnséƒ½æœ‰ä¸¤å±‚ï¼Œä¸¥æ ¼æ¥è¯´æ˜¯ä¸ªå››ç»´æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2.loc[<span class="string">&#x27;ä¸­å›½&#x27;</span>].loc[<span class="string">&#x27;BABA&#x27;</span>:<span class="string">&#x27;JD&#x27;</span>]</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr><th>æ¦‚æ‹¬</th><th colspan="2" halign="left">å…¬å¸æ•°æ®</th><th colspan="2" halign="left">äº¤æ˜“æ•°æ®</th></tr><tr><th>ç»†åˆ†</th><th>è¡Œä¸š</th><th>é›‡å‘˜</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th></tr><tr><th>ä»£å·</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>BABA</th><td>ç”µå•†</td><td>101550</td><td>176.92</td><td>16175610</td></tr><tr><th>JD</th><td>ç”µå•†</td><td>175336</td><td>25.95</td><td>27113291</td></tr></tbody></table></div><h3 id="é«˜çº§ç´¢å¼•-è°ƒä½level">é«˜çº§ç´¢å¼•ï¼ˆè°ƒä½levelï¼‰</h3><p>å¦‚æœä½ ä¸å–œæ¬¢index levelçš„é¡ºåºï¼Œå¯ç”¨swaplevelå°†å®ƒä»¬è°ƒä½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2.swaplevel(<span class="string">&#x27;åœ°åŒº&#x27;</span>,<span class="string">&#x27;ä»£å·&#x27;</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr><th></th><th>æ¦‚æ‹¬</th><th colspan="2" halign="left">å…¬å¸æ•°æ®</th><th colspan="2" halign="left">äº¤æ˜“æ•°æ®</th></tr><tr><th></th><th>ç»†åˆ†</th><th>è¡Œä¸š</th><th>é›‡å‘˜</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th></tr><tr><th>ä»£å·</th><th>åœ°åŒº</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>BABA</th><th>ä¸­å›½</th><td>ç”µå•†</td><td>101550</td><td>176.92</td><td>16175610</td></tr><tr><th>JD</th><th>ä¸­å›½</th><td>ç”µå•†</td><td>175336</td><td>25.95</td><td>27113291</td></tr><tr><th>GS</th><th>ç¾å›½</th><td>é‡‘è</td><td>60348</td><td>41.79</td><td>10132145</td></tr><tr><th>MS</th><th>ç¾å›½</th><td>é‡‘è</td><td>36600</td><td>196.00</td><td>2626634</td></tr></tbody></table></div><p>å¦‚æœä½ ä¸å–œæ¬¢columns levelçš„é¡ºåºï¼Œä¹Ÿå¯ç”¨swaplevelå°†å®ƒä»¬è°ƒä½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df2.columns=df.columns.swaplevel(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">df2</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr><th></th><th>ç»†åˆ†</th><th>è¡Œä¸š</th><th>é›‡å‘˜</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th></tr><tr><th></th><th>æ¦‚æ‹¬</th><th>å…¬å¸æ•°æ®</th><th>å…¬å¸æ•°æ®</th><th>äº¤æ˜“æ•°æ®</th><th>äº¤æ˜“æ•°æ®</th></tr><tr><th>åœ°åŒº</th><th>ä»£å·</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th rowspan="2" valign="top">ä¸­å›½</th><th>BABA</th><td>ç”µå•†</td><td>101550</td><td>176.92</td><td>16175610</td></tr><tr><th>JD</th><td>ç”µå•†</td><td>175336</td><td>25.95</td><td>27113291</td></tr><tr><th rowspan="2" valign="top">ç¾å›½</th><th>GS</th><td>é‡‘è</td><td>60348</td><td>41.79</td><td>10132145</td></tr><tr><th>MS</th><td>é‡‘è</td><td>36600</td><td>196.00</td><td>2626634</td></tr></tbody></table></div><h3 id="é«˜çº§ç´¢å¼•-é‡è®¾index">é«˜çº§ç´¢å¼•ï¼ˆé‡è®¾indexï¼‰</h3><p>æœ‰æ—¶å€™ï¼Œä¸€ä¸ªDataFrameçš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªcolumnsé€‚åˆåšindexï¼Œè¿™æ—¶å¯ç”¨set_indexå°†å®ƒä»¬è®¾ç½®ä¸ºindexï¼Œå¦‚æœè¦å°†indexè¿˜åŸæˆcolumnsï¼Œé‚£ä¹ˆç”¨reset_indexã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;<span class="string">&#x27;åœ°åŒº&#x27;</span>:[<span class="string">&#x27;ä¸­å›½&#x27;</span>,<span class="string">&#x27;ä¸­å›½&#x27;</span>,<span class="string">&#x27;ç¾å›½&#x27;</span>,<span class="string">&#x27;ç¾å›½&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;ä»£å·&#x27;</span>:[<span class="string">&#x27;BABA&#x27;</span>,<span class="string">&#x27;JD&#x27;</span>,<span class="string">&#x27;MS&#x27;</span>,<span class="string">&#x27;GS&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;è¡Œä¸š&#x27;</span>:[<span class="string">&#x27;ç”µå•†&#x27;</span>,<span class="string">&#x27;ç”µå•†&#x27;</span>,<span class="string">&#x27;é‡‘è&#x27;</span>,<span class="string">&#x27;é‡‘è&#x27;</span>],</span><br><span class="line"><span class="string">&#x27;ä»·æ ¼&#x27;</span>:[<span class="number">176.92</span>,<span class="number">25.95</span>,<span class="number">41.79</span>,<span class="number">196.00</span>],</span><br><span class="line"><span class="string">&#x27;äº¤æ˜“é‡&#x27;</span>:[<span class="number">16175610</span>,<span class="number">27113291</span>,<span class="number">10132145</span>,<span class="number">2626634</span>],</span><br><span class="line"><span class="string">&#x27;é›‡å‘˜&#x27;</span>:[<span class="number">101550</span>,<span class="number">175336</span>,<span class="number">60348</span>,<span class="number">36600</span>]&#125;</span><br><span class="line">df3=pd.DataFrame(data)</span><br><span class="line">df3</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>åœ°åŒº</th><th>ä»£å·</th><th>è¡Œä¸š</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th><th>é›‡å‘˜</th></tr></thead><tbody><tr><th>0</th><td>ä¸­å›½</td><td>BABA</td><td>ç”µå•†</td><td>176.92</td><td>16175610</td><td>101550</td></tr><tr><th>1</th><td>ä¸­å›½</td><td>JD</td><td>ç”µå•†</td><td>25.95</td><td>27113291</td><td>175336</td></tr><tr><th>2</th><td>ç¾å›½</td><td>MS</td><td>é‡‘è</td><td>41.79</td><td>10132145</td><td>60348</td></tr><tr><th>3</th><td>ç¾å›½</td><td>GS</td><td>é‡‘è</td><td>196.00</td><td>2626634</td><td>36600</td></tr></tbody></table></div><p>å°†ã€Œåœ°åŒºã€å’Œã€Œä»£å·ã€è®¾ç½®ä¸ºç¬¬ä¸€å±‚indexå’Œç¬¬äºŒå±‚indexã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df4=df3.set_index([<span class="string">&#x27;åœ°åŒº&#x27;</span>,<span class="string">&#x27;ä»£å·&#x27;</span>])</span><br><span class="line">df4</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th></th><th>è¡Œä¸š</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th><th>é›‡å‘˜</th></tr><tr><th>åœ°åŒº</th><th>ä»£å·</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th rowspan="2" valign="top">ä¸­å›½</th><th>BABA</th><td>ç”µå•†</td><td>176.92</td><td>16175610</td><td>101550</td></tr><tr><th>JD</th><td>ç”µå•†</td><td>25.95</td><td>27113291</td><td>175336</td></tr><tr><th rowspan="2" valign="top">ç¾å›½</th><th>MS</th><td>é‡‘è</td><td>41.79</td><td>10132145</td><td>60348</td></tr><tr><th>GS</th><td>é‡‘è</td><td>196.00</td><td>2626634</td><td>36600</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df5=df3.set_index([<span class="string">&#x27;åœ°åŒº&#x27;</span>,<span class="string">&#x27;ä»£å·&#x27;</span>])<span class="comment">#å°†æ‰€æœ‰indexå˜æˆcolumns</span></span><br><span class="line">df5</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th></th><th>è¡Œä¸š</th><th>ä»·æ ¼</th><th>äº¤æ˜“é‡</th><th>é›‡å‘˜</th></tr><tr><th>åœ°åŒº</th><th>ä»£å·</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th rowspan="2" valign="top">ä¸­å›½</th><th>BABA</th><td>ç”µå•†</td><td>176.92</td><td>16175610</td><td>101550</td></tr><tr><th>JD</th><td>ç”µå•†</td><td>25.95</td><td>27113291</td><td>175336</td></tr><tr><th rowspan="2" valign="top">ç¾å›½</th><th>MS</th><td>é‡‘è</td><td>41.79</td><td>10132145</td><td>60348</td></tr><tr><th>GS</th><td>é‡‘è</td><td>196.00</td><td>2626634</td><td>36600</td></tr></tbody></table></div><h2 id="æŸ¥çœ‹æ•°æ®ç‰¹å¾å’Œç»Ÿè®¡ä¿¡æ¯">æŸ¥çœ‹æ•°æ®ç‰¹å¾å’Œç»Ÿè®¡ä¿¡æ¯</h2><h3 id="æŸ¥çœ‹æ•°æ®ç‰¹å¾">æŸ¥çœ‹æ•°æ®ç‰¹å¾</h3><p>1.ä»å¤´æˆ–ä»å°¾éƒ¨æŸ¥çœ‹DataFrameçš„nè¡Œï¼Œåˆ†åˆ«ç”¨df1.head()å’Œdf1.tail(n)ï¼Œå¦‚æœæ²¡æœ‰è®¾å®šnï¼Œé»˜è®¤å€¼ä¸º5è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.head()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>å·¥å·</th><th>æ—¥æœŸ</th><th>æ—¶æ®µ</th><th>äº¤æ˜“é¢</th><th>æŸœå°</th></tr><tr><th>å§“å</th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>æå››</th><td>1002</td><td>2019-03-01</td><td>14ï¼š00-21ï¼š00</td><td>954.0</td><td>åŒ–å¦†å“</td></tr><tr><th>èµµå…­</th><td>1004</td><td>2019-03-01</td><td>14ï¼š00-21ï¼š00</td><td>1320.0</td><td>é£Ÿå“</td></tr><tr><th>é’±å…«</th><td>1006</td><td>2019-03-01</td><td>14ï¼š00-21ï¼š00</td><td>1421.0</td><td>æ—¥ç”¨å“</td></tr><tr><th>é’±å…«</th><td>1006</td><td>2019-03-01</td><td>9ï¼š00-14ï¼š00</td><td>1226.0</td><td>è”¬èœæ°´æœ</td></tr><tr><th>å¼ ä¸‰</th><td>1001</td><td>2019-03-01</td><td>14ï¼š00-21ï¼š00</td><td>1442.0</td><td>è”¬èœæ°´æœ</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.tail()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>å·¥å·</th><th>æ—¥æœŸ</th><th>æ—¶æ®µ</th><th>äº¤æ˜“é¢</th><th>æŸœå°</th></tr><tr><th>å§“å</th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>æå››</th><td>1002</td><td>2019-03-31</td><td>14ï¼š00-21ï¼š00</td><td>859.0</td><td>è”¬èœæ°´æœ</td></tr><tr><th>èµµå…­</th><td>1004</td><td>2019-03-31</td><td>9ï¼š00-14ï¼š00</td><td>1668.0</td><td>æ—¥ç”¨å“</td></tr><tr><th>èµµå…­</th><td>1004</td><td>2019-03-31</td><td>14ï¼š00-21ï¼š00</td><td>1722.0</td><td>æ—¥ç”¨å“</td></tr><tr><th>ç‹äº”</th><td>1003</td><td>2019-03-31</td><td>9ï¼š00-14ï¼š00</td><td>1274.0</td><td>é£Ÿå“</td></tr><tr><th>é’±å…«</th><td>1006</td><td>2019-03-31</td><td>14ï¼š00-21ï¼š00</td><td>812.0</td><td>é£Ÿå“</td></tr></tbody></table></div><ol start="2"><li><a target="_blank" rel="noopener" href="http://df1.info">df1.info</a>()</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.index</span><br></pre></td></tr></table></figure><pre><code>Index(['æå››', 'èµµå…­', 'é’±å…«', 'é’±å…«', 'å¼ ä¸‰', 'å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­',
       'å‘¨ä¸ƒ',
       ...
       'ç‹äº”', 'é’±å…«', 'å‘¨ä¸ƒ', 'æå››', 'å‘¨ä¸ƒ', 'æå››', 'èµµå…­', 'èµµå…­', 'ç‹äº”',
       'é’±å…«'],
      dtype='object', name='å§“å', length=246)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.columns</span><br></pre></td></tr></table></figure><pre><code>Index(['å·¥å·', 'æ—¥æœŸ', 'æ—¶æ®µ', 'äº¤æ˜“é¢', 'æŸœå°'], dtype='object')
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.values</span><br></pre></td></tr></table></figure><pre><code>array([[1002, '2019-03-01', '14ï¼š00-21ï¼š00', 954.0, 'åŒ–å¦†å“'],
       [1004, '2019-03-01', '14ï¼š00-21ï¼š00', 1320.0, 'é£Ÿå“'],
       [1006, '2019-03-01', '14ï¼š00-21ï¼š00', 1421.0, 'æ—¥ç”¨å“'],
       ...,
       [1004, '2019-03-31', '14ï¼š00-21ï¼š00', 1722.0, 'æ—¥ç”¨å“'],
       [1003, '2019-03-31', '9ï¼š00-14ï¼š00', 1274.0, 'é£Ÿå“'],
       [1006, '2019-03-31', '14ï¼š00-21ï¼š00', 812.0, 'é£Ÿå“']], dtype=object)
</code></pre><h3 id="ç»Ÿè®¡ç‰¹å¾">ç»Ÿè®¡ç‰¹å¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹äº¤æ˜“ç»Ÿè®¡ä¿¡æ¯&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].describe())</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹äº¤æ˜“ç»Ÿè®¡ä¿¡æ¯
count      246.000000
mean      1330.313008
std        904.300720
min         53.000000
25%       1031.250000
50%       1259.000000
75%       1523.000000
max      12100.000000
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><p>æ±‚æŸåˆ—æ•°æ®æœ€å¤§å€¼åŠä½ç½®ã€æœ€å°å€¼åŠä½ç½®ã€æœ€å¤§æˆ–è€…æœ€å°å‡ æ¡è®°å½•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.describe(percentiles=[<span class="number">.2</span>,<span class="number">.75</span>, <span class="number">.8</span>])</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>å·¥å·</th><th>äº¤æ˜“é¢</th></tr></thead><tbody><tr><th>count</th><td>246.000000</td><td>243.000000</td></tr><tr><th>mean</th><td>1003.475610</td><td>1330.008230</td></tr><tr><th>std</th><td>1.667644</td><td>909.365395</td></tr><tr><th>min</th><td>1001.000000</td><td>53.000000</td></tr><tr><th>20%</th><td>1002.000000</td><td>980.400000</td></tr><tr><th>50%</th><td>1003.500000</td><td>1257.000000</td></tr><tr><th>75%</th><td>1005.000000</td><td>1523.000000</td></tr><tr><th>80%</th><td>1005.000000</td><td>1580.200000</td></tr><tr><th>max</th><td>1006.000000</td><td>12100.000000</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>327257.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢å››åˆ†ä½æ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].quantile([<span class="number">0</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.75</span>,<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢å››åˆ†ä½æ•°
0.00       53.00
0.25     1031.25
0.50     1259.00
0.75     1523.00
1.00    12100.00
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢ä¸­å€¼&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].median())</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢ä¸­å€¼
1259.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢æœ€å°çš„3æ¡è®°å½•&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.nsmallest(<span class="number">3</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢æœ€å°çš„3æ¡è®°å½•
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
76   1005  å‘¨ä¸ƒ  2019-03-10   9ï¼š00-14ï¼š00    53.0  æ—¥ç”¨å“
97   1002  æå››  2019-03-13  14ï¼š00-21ï¼š00    98.0  æ—¥ç”¨å“
194  1001  å¼ ä¸‰  2019-03-25  14ï¼š00-21ï¼š00   114.0  åŒ–å¦†å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢æœ€å¤§çš„5æ¡è®°å½•&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.nlargest(<span class="number">5</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢æœ€å¤§çš„5æ¡è®°å½•
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ   äº¤æ˜“é¢      æŸœå°
105  1001  å¼ ä¸‰  2019-03-14   9ï¼š00-14ï¼š00  12100.0    æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28   9ï¼š00-14ï¼š00   9031.0      é£Ÿå“
113  1002  æå››  2019-03-15   9ï¼š00-14ï¼š00   1798.0    æ—¥ç”¨å“
188  1002  æå››  2019-03-24  14ï¼š00-21ï¼š00   1793.0  è”¬èœæ°´æœ
136  1001  å¼ ä¸‰  2019-03-17  14ï¼š00-21ï¼š00   1791.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æœ€åä¸€ä¸ªæ—¥æœŸ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].<span class="built_in">max</span>())</span><br></pre></td></tr></table></figure><pre><code>æœ€åä¸€ä¸ªæ—¥æœŸ
2019-03-31
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æœ€å°çš„å·¥å·&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;å·¥å·&#x27;</span>].<span class="built_in">min</span>())</span><br></pre></td></tr></table></figure><pre><code>æœ€å°çš„å·¥å·
1001
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç¬¬ä¸€ä¸ªæœ€å°äº¤æ˜“é¢çš„è¡Œä¸‹æ ‡&#x27;</span>)</span><br><span class="line">index=df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].idxmin()</span><br><span class="line"><span class="built_in">print</span>(index)</span><br></pre></td></tr></table></figure><pre><code>ç¬¬ä¸€ä¸ªæœ€å°äº¤æ˜“é¢çš„è¡Œä¸‹æ ‡
76
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç¬¬ä¸€ä¸ªæœ€å°äº¤æ˜“é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.loc[index,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>ç¬¬ä¸€ä¸ªæœ€å°äº¤æ˜“é¢
53.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç¬¬ä¸€ä¸ªæœ€å¤§äº¤æ˜“é¢çš„è¡Œä¸‹æ ‡&#x27;</span>)</span><br><span class="line">index=df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].idxmax()</span><br><span class="line"><span class="built_in">print</span>(index)</span><br></pre></td></tr></table></figure><pre><code>ç¬¬ä¸€ä¸ªæœ€å¤§äº¤æ˜“é¢çš„è¡Œä¸‹æ ‡
105
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç¬¬ä¸€ä¸ªæœ€å¤§çš„äº¤æ˜“é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.loc[index,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>ç¬¬ä¸€ä¸ªæœ€å¤§çš„äº¤æ˜“é¢
12100.0
</code></pre><h2 id="æŒ‰ä¸åŒæ ‡å‡†å¯¹æ•°æ®æ’åº">æŒ‰ä¸åŒæ ‡å‡†å¯¹æ•°æ®æ’åº</h2><h3 id="sort-values">sort_values()</h3><p>DataFrame.sort_values(by=â€™â€™, axis=0, ascending=True, inplace=False, kind=â€˜quicksortâ€™, na_position=â€˜lastâ€™, ignore_index=False, key=None)</p><p>by:æŒ‡å®šè¦è¿›è¡Œæ’åºçš„åˆ—åæˆ–ç´¢å¼•å€¼</p><p>axis:è‹¥ axis=0 æˆ– â€˜indexâ€™ï¼Œåˆ™æŒ‰ç…§æŒ‡å®š åˆ— çš„æ•°æ®å¤§å°æ’åºï¼›è‹¥ axis=1 æˆ– â€˜columnsâ€™ï¼Œåˆ™æŒ‰ç…§æŒ‡å®š ç´¢å¼• ä¸­æ•°æ®å¤§å°æ’åºã€‚é»˜è®¤axis=0</p><p>ascending:è‹¥ ascending=Trueï¼Œåˆ™æŒ‰ç…§å‡åºæ’åºï¼›è‹¥ ascending=Falseï¼Œåˆ™æŒ‰é™åºæ’åºï¼Œé»˜è®¤ä¸ºTrueï¼Œå³å‡åºæ’åºã€‚å¦‚æœè¿™æ˜¯ä¸€ä¸ª bool åˆ—è¡¨ï¼Œåˆ™å¿…é¡»åŒ¹é… by çš„é•¿åº¦</p><p>inplace:æ’åºåçš„æ•°æ®æ˜¯å¦æ›¿æ¢åŸæ¥çš„æ•°æ®ï¼Œé»˜è®¤ä¸ºFalseï¼Œå³ä¸æ›¿æ¢</p><p>ignore_index:æ˜¯å¦é‡ç½®ç´¢å¼•ï¼Œé»˜è®¤ä¸ºä¸é‡ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df=pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰äº¤æ˜“é¢å’Œå·¥å·é™åºæ’åº&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.sort_values(by=[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,<span class="string">&#x27;å·¥å·&#x27;</span>],ascending=<span class="literal">False</span>)[:<span class="number">12</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰äº¤æ˜“é¢å’Œå·¥å·é™åºæ’åº
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ   äº¤æ˜“é¢      æŸœå°
105  1001  å¼ ä¸‰  2019-03-14   9ï¼š00-14ï¼š00  12100.0    æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28   9ï¼š00-14ï¼š00   9031.0      é£Ÿå“
113  1002  æå››  2019-03-15   9ï¼š00-14ï¼š00   1798.0    æ—¥ç”¨å“
188  1002  æå››  2019-03-24  14ï¼š00-21ï¼š00   1793.0  è”¬èœæ°´æœ
136  1001  å¼ ä¸‰  2019-03-17  14ï¼š00-21ï¼š00   1791.0      é£Ÿå“
121  1002  æå››  2019-03-16   9ï¼š00-14ï¼š00   1788.0    æ—¥ç”¨å“
47   1005  å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00   1778.0  è”¬èœæ°´æœ
185  1004  èµµå…­  2019-03-24   9ï¼š00-14ï¼š00   1775.0    åŒ–å¦†å“
205  1001  å¼ ä¸‰  2019-03-26   9ï¼š00-14ï¼š00   1746.0    æ—¥ç”¨å“
82   1006  é’±å…«  2019-03-11   9ï¼š00-14ï¼š00   1737.0      é£Ÿå“
227  1005  å‘¨ä¸ƒ  2019-03-29   9ï¼š00-14ï¼š00   1737.0  è”¬èœæ°´æœ
246  1004  èµµå…­  2019-03-31  14ï¼š00-21ï¼š00   1722.0    æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰äº¤æ˜“é¢é™åºã€å·¥å·å‡åºæ’åº&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.sort_values(by=[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,<span class="string">&#x27;å·¥å·&#x27;</span>],ascending=[<span class="literal">False</span>,<span class="literal">True</span>])[:<span class="number">12</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰äº¤æ˜“é¢é™åºã€å·¥å·å‡åºæ’åº
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ   äº¤æ˜“é¢      æŸœå°
105  1001  å¼ ä¸‰  2019-03-14   9ï¼š00-14ï¼š00  12100.0    æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28   9ï¼š00-14ï¼š00   9031.0      é£Ÿå“
113  1002  æå››  2019-03-15   9ï¼š00-14ï¼š00   1798.0    æ—¥ç”¨å“
188  1002  æå››  2019-03-24  14ï¼š00-21ï¼š00   1793.0  è”¬èœæ°´æœ
136  1001  å¼ ä¸‰  2019-03-17  14ï¼š00-21ï¼š00   1791.0      é£Ÿå“
121  1002  æå››  2019-03-16   9ï¼š00-14ï¼š00   1788.0    æ—¥ç”¨å“
47   1005  å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00   1778.0  è”¬èœæ°´æœ
185  1004  èµµå…­  2019-03-24   9ï¼š00-14ï¼š00   1775.0    åŒ–å¦†å“
205  1001  å¼ ä¸‰  2019-03-26   9ï¼š00-14ï¼š00   1746.0    æ—¥ç”¨å“
227  1005  å‘¨ä¸ƒ  2019-03-29   9ï¼š00-14ï¼š00   1737.0  è”¬èœæ°´æœ
82   1006  é’±å…«  2019-03-11   9ï¼š00-14ï¼š00   1737.0      é£Ÿå“
246  1004  èµµå…­  2019-03-31  14ï¼š00-21ï¼š00   1722.0    æ—¥ç”¨å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰å·¥å·å‡åºæ’åº&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.sort_values(by=<span class="string">&#x27;å·¥å·&#x27;</span>,na_position=<span class="string">&#x27;last&#x27;</span>)[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰å·¥å·å‡åºæ’åº
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0    1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
178  1001  å¼ ä¸‰  2019-03-23  14ï¼š00-21ï¼š00  1271.0    åŒ–å¦†å“
39   1001  å¼ ä¸‰  2019-03-05  14ï¼š00-21ï¼š00   856.0  è”¬èœæ°´æœ
40   1001  å¼ ä¸‰  2019-03-06   9ï¼š00-14ï¼š00  1037.0    åŒ–å¦†å“
177  1001  å¼ ä¸‰  2019-03-23   9ï¼š00-14ï¼š00  1296.0    åŒ–å¦†å“
169  1001  å¼ ä¸‰  2019-03-22   9ï¼š00-14ï¼š00   946.0    åŒ–å¦†å“
160  1001  å¼ ä¸‰  2019-03-20  14ï¼š00-21ï¼š00   829.0      é£Ÿå“
54   1001  å¼ ä¸‰  2019-03-07   9ï¼š00-14ï¼š00  1263.0  è”¬èœæ°´æœ
157  1001  å¼ ä¸‰  2019-03-20   9ï¼š00-14ï¼š00  1037.0    æ—¥ç”¨å“
225  1001  å¼ ä¸‰  2019-03-29  14ï¼š00-21ï¼š00  1523.0    åŒ–å¦†å“
</code></pre><h3 id="sort-index">sort.index()</h3><p>DataFrame.sort_index(axis=0, level=None, ascending=True, inplace=False, kind=â€™quicksortâ€™, na_position=â€™lastâ€™, sort_remaining=True, by=None)</p><p>axis:ç´¢å¼•ï¼Œç›´æ¥æ’åºçš„åˆ—</p><p>level:å¦‚æœä¸æ˜¯ï¼Œåˆ™å¯¹æŒ‡å®šç´¢å¼•çº§åˆ«çš„å€¼è¿›è¡Œæ’åº</p><p>ascending:å‡åºä¸é™åºæ’åº</p><p>inplace:å¦‚æœä¸ºTrueï¼Œåˆ™å°±åœ°æ‰§è¡Œæ“ä½œ</p><p>kind:{â€œå¿«é€Ÿæ’åºâ€ï¼Œâ€œåˆå¹¶æ’åºâ€ï¼Œâ€œå †æ’åºâ€}ï¼Œé»˜è®¤ä¸ºâ€œå¿«é€Ÿæ’åºâ€ã€‚é€‰æ‹©æ’åºç®—æ³•ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œå¦è¯·å‚è§ndarray.np.sortã€‚ mergesortæ˜¯å”¯ä¸€ç¨³å®šçš„ç®—æ³•ã€‚å¯¹äºDataFrameï¼Œæ­¤é€‰é¡¹ä»…åœ¨å¯¹å•ä¸ªåˆ—æˆ–æ ‡ç­¾è¿›è¡Œæ’åºæ—¶é€‚ç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰åˆ—åå‡åºæ’åº&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.sort_index(axis=<span class="number">1</span>,ascending=<span class="literal">True</span>)[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰åˆ—åå‡åºæ’åº
   äº¤æ˜“é¢  å§“å  å·¥å·        æ—¥æœŸ           æ—¶æ®µ      æŸœå°
0  1664.0  å¼ ä¸‰  1001  2019-03-01   9ï¼š00-14ï¼š00    åŒ–å¦†å“
1   954.0  æå››  1002  2019-03-01  14ï¼š00-21ï¼š00    åŒ–å¦†å“
2  1407.0  ç‹äº”  1003  2019-03-01   9ï¼š00-14ï¼š00      é£Ÿå“
3  1320.0  èµµå…­  1004  2019-03-01  14ï¼š00-21ï¼š00      é£Ÿå“
4   994.0  å‘¨ä¸ƒ  1005  2019-03-01   9ï¼š00-14ï¼š00    æ—¥ç”¨å“
5  1421.0  é’±å…«  1006  2019-03-01  14ï¼š00-21ï¼š00    æ—¥ç”¨å“
6  1226.0  é’±å…«  1006  2019-03-01   9ï¼š00-14ï¼š00  è”¬èœæ°´æœ
7  1442.0  å¼ ä¸‰  1001  2019-03-01  14ï¼š00-21ï¼š00  è”¬èœæ°´æœ
8  1530.0  å¼ ä¸‰  1001  2019-03-02   9ï¼š00-14ï¼š00    åŒ–å¦†å“
9  1395.0  æå››  1002  2019-03-02  14ï¼š00-21ï¼š00    åŒ–å¦†å“
</code></pre><h2 id="ä½¿ç”¨åˆ†ç»„ä¸èšåˆå¯¹å‘˜å·¥ä¸šç»©è¿›è¡Œæ±‡æ€»">ä½¿ç”¨åˆ†ç»„ä¸èšåˆå¯¹å‘˜å·¥ä¸šç»©è¿›è¡Œæ±‡æ€»</h2><p>groupby(by=None, axis=0, level=None, as_index=True, sort=True, group_keys=True, squeeze=False, **kwargs)</p><p>å‚æ•°byç”¨æ¥æŒ‡å®šä½œç”¨äºindexçš„å‡½æ•°ã€å­—å…¸ã€Serieså¯¹è±¡ï¼Œæˆ–è€…æŒ‡å®šåˆ—åä½œä¸ºåˆ†ç»„ä¾æ®ï¼›</p><p>å‚æ•°as_index=Falseæ—¶ç”¨æ¥åˆ†ç»„çš„åˆ—ä¸­çš„æ•°æ®ä¸ä½œä¸ºç»“æœDataFrameå¯¹è±¡çš„indexï¼›</p><p>å‚æ•°squeeze=Trueæ—¶ä¼šåœ¨å¯èƒ½çš„æƒ…å†µä¸‹é™ä½ç»“æœå¯¹è±¡çš„ç»´åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‡å®šbyå‚æ•°ä¸ºå­—å…¸&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=&#123;<span class="number">7</span>:<span class="string">&#x27;ä¸‹æ ‡ä¸º7çš„è¡Œ&#x27;</span>, </span><br><span class="line">                     <span class="number">35</span>:<span class="string">&#x27;ä¸‹æ ‡ä¸º35çš„è¡Œ&#x27;</span>&#125;)[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>æŒ‡å®šbyå‚æ•°ä¸ºå­—å…¸
ä¸‹æ ‡ä¸º35çš„è¡Œ     974.0
ä¸‹æ ‡ä¸º7çš„è¡Œ     1442.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸åŒæ—¶æ®µçš„é”€å”®æ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=<span class="string">&#x27;æ—¶æ®µ&#x27;</span>)[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>()) </span><br></pre></td></tr></table></figure><pre><code>ä¸åŒæ—¶æ®µçš„é”€å”®æ€»é¢
æ—¶æ®µ
14ï¼š00-21ï¼š00    151228.0
9ï¼š00-14ï¼š00     176029.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å„æŸœå°çš„é”€å”®æ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=<span class="string">&#x27;æŸœå°&#x27;</span>)[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>())</span><br></pre></td></tr></table></figure><pre><code>å„æŸœå°çš„é”€å”®æ€»é¢
æŸœå°
åŒ–å¦†å“      75389.0
æ—¥ç”¨å“      88162.0
è”¬èœæ°´æœ    78532.0
é£Ÿå“        85174.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯ä»¥æŸ¥çœ‹æ¯ä¸ªå‘˜å·¥ä¸Šç­æ€»æ—¶é•¿æ˜¯å¦å‡åŒ€ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå‘˜å·¥ä¸Šç­çš„æ¬¡æ•°&#x27;</span>)</span><br><span class="line">dff=df.groupby(by=<span class="string">&#x27;å§“å&#x27;</span>)[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].count()</span><br><span class="line">dff.name =<span class="string">&#x27;ä¸Šç­æ¬¡æ•°&#x27;</span> </span><br><span class="line"><span class="built_in">print</span>(dff) </span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå‘˜å·¥ä¸Šç­çš„æ¬¡æ•°
å§“å
å‘¨ä¸ƒ    42
å¼ ä¸‰    38
æå››    47
ç‹äº”    40
èµµå…­    45
é’±å…«    37
Name: ä¸Šç­æ¬¡æ•°, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ±‡æ€»äº¤æ˜“é¢è½¬æ¢ä¸ºæ•´æ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=<span class="string">&#x27;å§“å&#x27;</span>).<span class="built_in">sum</span>()[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].apply(<span class="built_in">int</span>))</span><br></pre></td></tr></table></figure><pre><code>æ±‡æ€»äº¤æ˜“é¢è½¬æ¢ä¸ºæ•´æ•°
å§“å
å‘¨ä¸ƒ    47818
å¼ ä¸‰    58130
æå››    58730
ç‹äº”    58892
èµµå…­    56069
é’±å…«    47618
Name: äº¤æ˜“é¢, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå‘˜å·¥äº¤æ˜“é¢çš„å²å€¼&#x27;</span>) </span><br><span class="line">dff=df.groupby(by=<span class="string">&#x27;å§“å&#x27;</span>).median() </span><br><span class="line"><span class="built_in">print</span>(dff[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå‘˜å·¥äº¤æ˜“é¢çš„å²å€¼
å§“å
å‘¨ä¸ƒ    1134.5
å¼ ä¸‰    1290.0
æå››    1276.0
ç‹äº”    1227.0
èµµå…­    1224.0
é’±å…«    1381.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dff[<span class="string">&#x27;æ’å&#x27;</span>] = dff[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].rank(ascending=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå‘˜å·¥äº¤æ˜“é¢ä¸­å€¼çš„æ’å&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(dff[[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,<span class="string">&#x27;æ’å&#x27;</span>]])</span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå‘˜å·¥äº¤æ˜“é¢ä¸­å€¼çš„æ’å
      äº¤æ˜“é¢  æ’å
å§“å              
å‘¨ä¸ƒ  1134.5   6.0
å¼ ä¸‰  1290.0   2.0
æå››  1276.0   3.0
ç‹äº”  1227.0   4.0
èµµå…­  1224.0   5.0
é’±å…«  1381.0   1.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯ä¸ªå‘˜å·¥ä¸åŒæ—¶æ®µçš„äº¤æ˜“é¢&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ—¶æ®µ&#x27;</span>])[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">sum</span>()) </span><br></pre></td></tr></table></figure><pre><code>æ¯ä¸ªå‘˜å·¥ä¸åŒæ—¶æ®µçš„äº¤æ˜“é¢
å§“å  æ—¶æ®µ       
å‘¨ä¸ƒ  14ï¼š00-21ï¼š00    15910.0
      9ï¼š00-14ï¼š00     31908.0
å¼ ä¸‰  14ï¼š00-21ï¼š00    23659.0
      9ï¼š00-14ï¼š00     34471.0
æå››  14ï¼š00-21ï¼š00    32295.0
      9ï¼š00-14ï¼š00     26435.0
ç‹äº”  14ï¼š00-21ï¼š00    17089.0
      9ï¼š00-14ï¼š00     41803.0
èµµå…­  14ï¼š00-21ï¼š00    29121.0
      9ï¼š00-14ï¼š00     26948.0
é’±å…«  14ï¼š00-21ï¼š00    33154.0
      9ï¼š00-14ï¼š00     14464.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¹ä¸åŒçš„åˆ—å¯ä»¥é‡‡ç”¨ä¸åŒçš„å‡½æ•° </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ—¶æ®µå’Œäº¤æ˜“é¢é‡‡ç”¨ä¸åŒçš„èšåˆæ–¹å¼&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=[<span class="string">&#x27;å§“å&#x27;</span>])[<span class="string">&#x27;æ—¶æ®µ&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].aggregate(&#123;<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>:np.<span class="built_in">sum</span>,</span><br><span class="line">                                                   <span class="string">&#x27;æ—¶æ®µ&#x27;</span>:<span class="keyword">lambda</span> x:<span class="string">&#x27;å„æ—¶æ®µç´¯è®¡&#x27;</span>&#125;))</span><br></pre></td></tr></table></figure><pre><code>æ—¶æ®µå’Œäº¤æ˜“é¢é‡‡ç”¨ä¸åŒçš„èšåˆæ–¹å¼
       äº¤æ˜“é¢        æ—¶æ®µ
å§“å                     
å‘¨ä¸ƒ  47818.0  å„æ—¶æ®µç´¯è®¡
å¼ ä¸‰  58130.0  å„æ—¶æ®µç´¯è®¡
æå››  58730.0  å„æ—¶æ®µç´¯è®¡
ç‹äº”  58892.0  å„æ—¶æ®µç´¯è®¡
èµµå…­  56069.0  å„æ—¶æ®µç´¯è®¡
é’±å…«  47618.0  å„æ—¶æ®µç´¯è®¡
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨DataErameç»“æ„çš„aggï¼ˆï¼‰æ–¹æ³•å¯¹æŒ‡å®šåˆ—è¿›è¡Œèšåˆ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨agg()æ–¹æ³•å¯¹äº¤æ˜“é¢è¿›è¡Œèšåˆ&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df.agg(&#123;<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>:[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;mean&#x27;</span>,<span class="string">&#x27;min&#x27;</span>,<span class="string">&#x27;max&#x27;</span>,<span class="string">&#x27;median&#x27;</span>],</span><br><span class="line">              <span class="string">&#x27;æ—¥æœŸ&#x27;</span>:[<span class="string">&#x27;min&#x27;</span>,<span class="string">&#x27;max&#x27;</span>]&#125;)) </span><br></pre></td></tr></table></figure><pre><code>ä½¿ç”¨agg()æ–¹æ³•å¯¹äº¤æ˜“é¢è¿›è¡Œèšåˆ
               äº¤æ˜“é¢        æ—¥æœŸ
sum     327257.000000         NaN
mean      1330.313008         NaN
min         53.000000  2019-03-01
max      12100.000000  2019-03-31
median    1259.000000         NaN
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¯¹åˆ†ç»„ç»“æœè¿›è¡Œèšåˆ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹åˆ†ç»„èšåˆåçš„éƒ¨åˆ†ç»“æœ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.groupby(by=<span class="string">&#x27;å§“å&#x27;</span>).agg([<span class="string">&#x27;max&#x27;</span>,<span class="string">&#x27;min&#x27;</span>, <span class="string">&#x27;mean&#x27;</span>, <span class="string">&#x27;median&#x27;</span>])[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>å¯¹åˆ†ç»„ç»“æœè¿›è¡Œèšåˆ
æŸ¥çœ‹åˆ†ç»„èšåˆåçš„éƒ¨åˆ†ç»“æœ
          max    min         mean  median
å§“å                                     
å‘¨ä¸ƒ   1778.0   53.0  1195.450000  1134.5
å¼ ä¸‰  12100.0  114.0  1529.736842  1290.0
æå››   1798.0   98.0  1249.574468  1276.0
ç‹äº”   9031.0  801.0  1472.300000  1227.0
èµµå…­   1775.0  825.0  1245.977778  1224.0
é’±å…«   1737.0  807.0  1322.722222  1381.0
</code></pre><h2 id="æ•°æ®çš„å¼‚å¸¸å€¼å¤„ç†">æ•°æ®çš„å¼‚å¸¸å€¼å¤„ç†</h2><p>å¼‚å¸¸å€¼æ˜¯æŒ‡ä¸¥é‡è¶…å‡ºæ­£å¸¸èŒƒå›´çš„æ•°å€¼ï¼Œè¿™æ ·çš„æ•°æ®ä¸€èˆ¬æ˜¯æ•°æ®é‡‡é›†é”™è¯¯æˆ–ç±»ä¼¼åŸå› å¼•èµ·çš„ã€‚</p><p>åœ¨æ•°æ®åˆ†ææ—¶ï¼Œéœ€è¦æŠŠè¿™äº›æ•°æ®åˆ é™¤æˆ–æ›¿æ¢ä¸ºç‰¹å®šçš„å€¼ï¼ˆä¾‹å¦‚äººä¸ºè®¾å®šçš„æ­£å¸¸èŒƒå›´è¾¹ç•Œå€¼ï¼‰ï¼Œå‡å°å¯¹æœ€ç»ˆæ•°æ®åˆ†æç»“æœçš„å½±å“ã€‚</p><p>å¼‚å¸¸å€¼å¤„ç†çš„å…³é”®æ˜¯æ ¹æ®å®é™…æƒ…å†µå‡†ç¡®å®šä¹‰æ­£å¸¸èŒƒå›´è¾¹ç•Œå€¼ï¼Œè¶…å‡ºæ­£å¸¸èŒƒå›´çš„æ•°å€¼è®¤ä¸ºæ˜¯å¼‚å¸¸å€¼ã€‚</p><p>1.åŸºäºç»Ÿè®¡ä¸æ•°æ®å‘å¸ƒ 2.ç®±å½¢å›¾åˆ†æ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹äº¤æ˜“é¢ä½äº200çš„æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df.äº¤æ˜“é¢&lt;<span class="number">200</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹äº¤æ˜“é¢ä½äº200çš„æ•°æ®
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
76   1005  å‘¨ä¸ƒ  2019-03-10   9ï¼š00-14ï¼š00    53.0  æ—¥ç”¨å“
97   1002  æå››  2019-03-13  14ï¼š00-21ï¼š00    98.0  æ—¥ç”¨å“
194  1001  å¼ ä¸‰  2019-03-25  14ï¼š00-21ï¼š00   114.0  åŒ–å¦†å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.loc[df.äº¤æ˜“é¢&lt;<span class="number">200</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>] = df[df.äº¤æ˜“é¢&lt;<span class="number">200</span>][<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].<span class="built_in">map</span>(<span class="keyword">lambda</span> num:num*<span class="number">1.5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸Šæµ®50%ä¹‹åä»ä½äº200çš„æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df.äº¤æ˜“é¢&lt;<span class="number">200</span>])</span><br></pre></td></tr></table></figure><pre><code>ä¸Šæµ®50%ä¹‹åä»ä½äº200çš„æ•°æ®
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
76   1005  å‘¨ä¸ƒ  2019-03-10   9ï¼š00-14ï¼š00    79.5  æ—¥ç”¨å“
97   1002  æå››  2019-03-13  14ï¼š00-21ï¼š00   147.0  æ—¥ç”¨å“
194  1001  å¼ ä¸‰  2019-03-25  14ï¼š00-21ï¼š00   171.0  åŒ–å¦†å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹äº¤æ˜“é¢é«˜äº3000çš„æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]&gt;<span class="number">3000</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹äº¤æ˜“é¢é«˜äº3000çš„æ•°æ®
     å·¥å·  å§“å        æ—¥æœŸ          æ—¶æ®µ   äº¤æ˜“é¢    æŸœå°
105  1001  å¼ ä¸‰  2019-03-14  9ï¼š00-14ï¼š00  12100.0  æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28  9ï¼š00-14ï¼š00   9031.0    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°æ®&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df[(df.äº¤æ˜“é¢&lt;<span class="number">200</span>)|(df.äº¤æ˜“é¢&gt;<span class="number">3000</span>)]) </span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°æ®
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ   äº¤æ˜“é¢    æŸœå°
76   1005  å‘¨ä¸ƒ  2019-03-10   9ï¼š00-14ï¼š00     79.5  æ—¥ç”¨å“
97   1002  æå››  2019-03-13  14ï¼š00-21ï¼š00    147.0  æ—¥ç”¨å“
105  1001  å¼ ä¸‰  2019-03-14   9ï¼š00-14ï¼š00  12100.0  æ—¥ç”¨å“
194  1001  å¼ ä¸‰  2019-03-25  14ï¼š00-21ï¼š00    171.0  åŒ–å¦†å“
223  1003  ç‹äº”  2019-03-28   9ï¼š00-14ï¼š00   9031.0    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŠŠä½äº200çš„äº¤æ˜“é¢éƒ½æ›¿æ¢ä¸ºå›ºå®šçš„200 </span></span><br><span class="line">df.loc[df.äº¤æ˜“é¢&lt;<span class="number">200</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]=<span class="number">200</span> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°æ®&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df[(df.äº¤æ˜“é¢&lt;<span class="number">200</span>)|(df.äº¤æ˜“é¢&gt;<span class="number">3000</span>)]) </span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°æ®
     å·¥å·  å§“å        æ—¥æœŸ          æ—¶æ®µ   äº¤æ˜“é¢    æŸœå°
105  1001  å¼ ä¸‰  2019-03-14  9ï¼š00-14ï¼š00  12100.0  æ—¥ç”¨å“
223  1003  ç‹äº”  2019-03-28  9ï¼š00-14ï¼š00   9031.0    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#æŠŠé«˜äº3000çš„äº¤æ˜“é¢éƒ½æ›¿æ¢ä¸ºå›ºå®šçš„ï¼“000 </span></span><br><span class="line">df.loc[df.äº¤æ˜“é¢&gt;<span class="number">3000</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]=<span class="number">3000</span> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°é‡&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[(df.äº¤æ˜“é¢&lt;<span class="number">200</span>)|(df.äº¤æ˜“é¢&gt;<span class="number">3000</span>)][<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].count())</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢ä½äº200æˆ–é«˜äº3000çš„æ•°é‡
0
</code></pre><h2 id="å¤„ç†è¶…å¸‚äº¤æ˜“é¢æ•°æ®ä¸­çš„ç¼ºå¤±å€¼">å¤„ç†è¶…å¸‚äº¤æ˜“é¢æ•°æ®ä¸­çš„ç¼ºå¤±å€¼</h2><p>dropna(axis=0, how=â€˜anyâ€™, thresh=None, subset=None, inplace=False)</p><p>å‚æ•°how='anyâ€™æ—¶è¡¨ç¤ºåªè¦æŸè¡ŒåŒ…å«ç¼ºå¤±å€¼å°±ä¸¢å¼ƒï¼Œhow='allâ€™æ—¶è¡¨ç¤ºæŸè¡Œå…¨éƒ¨ä¸ºç¼ºå¤±å€¼æ‰ä¸¢å¼ƒï¼›</p><p>å‚æ•°threshç”¨æ¥æŒ‡å®šä¿ç•™åŒ…å«å‡ ä¸ªéç¼ºå¤±å€¼æ•°æ®çš„è¡Œï¼›</p><p>å‚æ•°subsetç”¨æ¥æŒ‡å®šåœ¨åˆ¤æ–­ç¼ºå¤±å€¼æ—¶åªè€ƒè™‘å“ªäº›åˆ—ã€‚</p><p>fillna(value=None, method=None, axis=None, inplace=False, limit=None, downcast=None, **kwargs)</p><p>å‚æ•°valueç”¨æ¥æŒ‡å®šè¦æ›¿æ¢çš„å€¼ï¼Œå¯ä»¥æ˜¯æ ‡é‡ã€å­—å…¸ã€Seriesæˆ–DataFrameï¼›</p><p>å‚æ•°methodç”¨æ¥æŒ‡å®šå¡«å……ç¼ºå¤±å€¼çš„æ–¹å¼ï¼Œå€¼ä¸ºâ€™padâ€™æˆ–â€™ffillâ€™æ—¶è¡¨ç¤ºä½¿ç”¨æ‰«æè¿‡ç¨‹ä¸­é‡åˆ°çš„æœ€åä¸€ä¸ªæœ‰æ•ˆå€¼ä¸€ç›´å¡«å……åˆ°ä¸‹ä¸€ä¸ªæœ‰æ•ˆå€¼ï¼Œå€¼ä¸ºâ€™backfillâ€™æˆ–â€™bfillâ€™æ—¶è¡¨ç¤ºä½¿ç”¨ç¼ºå¤±å€¼ä¹‹åé‡åˆ°çš„ç¬¬ä¸€ä¸ªæœ‰æ•ˆå€¼å¡«å……å‰é¢é‡åˆ°çš„æ‰€æœ‰è¿ç»­ç¼ºå¤±å€¼ï¼›</p><p>å‚æ•°limitç”¨æ¥æŒ‡å®šè®¾ç½®äº†å‚æ•°methodæ—¶æœ€å¤šå¡«å……å¤šå°‘ä¸ªè¿ç»­çš„ç¼ºå¤±å€¼ï¼›</p><p>å‚æ•°inplace=Trueæ—¶è¡¨ç¤ºåŸåœ°æ›¿æ¢ï¼Œinplace=Falseæ—¶è¿”å›ä¸€ä¸ªæ–°çš„DataFrameå¯¹è±¡è€Œä¸å¯¹åŸæ¥çš„DataFrameåšä»»ä½•ä¿®æ”¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df=pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ•°æ®æ€»è¡Œæ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(df))</span><br></pre></td></tr></table></figure><pre><code>æ•°æ®æ€»è¡Œæ•°
249
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸¢å¤±ç¼ºå¤±å€¼ä¹‹åçš„è¡Œæ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(df.dropna()))</span><br></pre></td></tr></table></figure><pre><code>ä¸¢å¤±ç¼ºå¤±å€¼ä¹‹åçš„è¡Œæ•°
246
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;åŒ…å«ç¼ºå¤±å€¼çš„è¡Œ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].isnull()])</span><br></pre></td></tr></table></figure><pre><code>åŒ…å«ç¼ºå¤±å€¼çš„è¡Œ
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
110  1005  å‘¨ä¸ƒ  2019-03-14  14ï¼š00-21ï¼š00     NaN  åŒ–å¦†å“
124  1006  é’±å…«  2019-03-16  14ï¼š00-21ï¼š00     NaN    é£Ÿå“
168  1005  å‘¨ä¸ƒ  2019-03-21  14ï¼š00-21ï¼š00     NaN    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨å›ºå®šå€¼æ›¿æ¢ç¼ºå¤±å€¼&#x27;</span>)</span><br><span class="line">dff=deepcopy(df)</span><br><span class="line">dff.loc[dff.äº¤æ˜“é¢.isnull(),<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]=<span class="number">1000</span></span><br><span class="line"><span class="built_in">print</span>(dff.iloc[[<span class="number">110</span>,<span class="number">124</span>,<span class="number">168</span>],:])</span><br></pre></td></tr></table></figure><pre><code>ä½¿ç”¨å›ºå®šå€¼æ›¿æ¢ç¼ºå¤±å€¼
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
110  1005  å‘¨ä¸ƒ  2019-03-14  14ï¼š00-21ï¼š00  1000.0  åŒ–å¦†å“
124  1006  é’±å…«  2019-03-16  14ï¼š00-21ï¼š00  1000.0    é£Ÿå“
168  1005  å‘¨ä¸ƒ  2019-03-21  14ï¼š00-21ï¼š00  1000.0    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨æ¯äººäº¤æ˜“é¢å‡å€¼æ›¿æ¢ç¼ºå¤±å€¼&#x27;</span>)</span><br><span class="line">dff=deepcopy(df)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dff[dff.äº¤æ˜“é¢.isnull()].index:</span><br><span class="line">    dff.loc[i,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]=<span class="built_in">round</span>(dff.loc[dff.å§“å==dff.loc[i,<span class="string">&#x27;å§“å&#x27;</span>],<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].mean())</span><br><span class="line"><span class="built_in">print</span>(dff.iloc[[<span class="number">110</span>,<span class="number">124</span>,<span class="number">168</span>],:])</span><br></pre></td></tr></table></figure><pre><code>ä½¿ç”¨æ¯äººäº¤æ˜“é¢å‡å€¼æ›¿æ¢ç¼ºå¤±å€¼
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
110  1005  å‘¨ä¸ƒ  2019-03-14  14ï¼š00-21ï¼š00  1195.0  åŒ–å¦†å“
124  1006  é’±å…«  2019-03-16  14ï¼š00-21ï¼š00  1323.0    é£Ÿå“
168  1005  å‘¨ä¸ƒ  2019-03-21  14ï¼š00-21ï¼š00  1195.0    é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨æ•´ä½“å‡å€¼çš„80%å¡«å……&#x27;</span>)</span><br><span class="line">df.fillna(&#123;<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>:<span class="built_in">round</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].mean()*<span class="number">0.8</span>)&#125;,inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(df.iloc[[<span class="number">110</span>,<span class="number">124</span>,<span class="number">168</span>],:])</span><br></pre></td></tr></table></figure><pre><code>ä½¿ç”¨æ•´ä½“å‡å€¼çš„80%å¡«å……
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
110  1005  å‘¨ä¸ƒ  2019-03-14  14ï¼š00-21ï¼š00  1064.0  åŒ–å¦†å“
124  1006  é’±å…«  2019-03-16  14ï¼š00-21ï¼š00  1064.0    é£Ÿå“
168  1005  å‘¨ä¸ƒ  2019-03-21  14ï¼š00-21ï¼š00  1064.0    é£Ÿå“
</code></pre><h2 id="å¤„ç†è¶…å¸‚äº¤æ˜“æ•°æ®ä¸­çš„é‡å¤å€¼">å¤„ç†è¶…å¸‚äº¤æ˜“æ•°æ®ä¸­çš„é‡å¤å€¼</h2><p>duplicated(subset=None, keep=â€˜firstâ€™)</p><p>å‚æ•°subsetç”¨æ¥æŒ‡å®šåˆ¤æ–­ä¸åŒè¡Œçš„æ•°æ®æ˜¯å¦é‡å¤æ—¶æ‰€ä¾æ®çš„ä¸€åˆ—æˆ–å¤šåˆ—ï¼Œé»˜è®¤ä½¿ç”¨æ•´è¡Œæ‰€æœ‰åˆ—çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼›</p><p>å‚æ•°keep='firstâ€™æ—¶è¡¨ç¤ºé‡å¤æ•°æ®çš„ç¬¬ä¸€æ¬¡å‡ºç°æ ‡è®°ä¸ºFalseï¼Œkeep='lastâ€™æ—¶è¡¨ç¤ºé‡å¤æ•°æ®çš„æœ€åä¸€æ¬¡å‡ºç°æ ‡è®°ä¸ºFalseï¼Œkeep=Falseæ—¶è¡¨ç¤ºæ ‡è®°æ‰€æœ‰é‡å¤æ•°æ®ä¸ºTrueã€‚</p><p>drop_duplicates(subset=None, keep=â€˜firstâ€™, inplace=False)</p><p>å‚æ•°subsetå’Œkeepçš„å«ä¹‰ä¸duplicated()æ–¹æ³•ç±»ä¼¼ï¼›</p><p>å‚æ•°inplace=Trueæ—¶è¡¨ç¤ºåŸåœ°ä¿®æ”¹ï¼Œæ­¤æ—¶duplicated()æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œinplace=Falseæ—¶è¡¨ç¤ºè¿”å›æ–°çš„DataFrameç»“æ„è€Œä¸å¯¹åŸæ¥çš„DataFrameåšä»»ä½•ä¿®æ”¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">df=pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ•°æ®æ€»è¡Œæ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(df))</span><br></pre></td></tr></table></figure><pre><code>æ•°æ®æ€»è¡Œæ•°
249
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ•°æ®æ€»è¡Œæ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(df))</span><br></pre></td></tr></table></figure><pre><code>æ•°æ®æ€»è¡Œæ•°
249
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä¸€äººåŒæ—¶è´Ÿè´£å¤šä¸ªæŸœå°çš„æ’ç­&#x27;</span>)</span><br><span class="line">dff=df[[<span class="string">&#x27;å·¥å·&#x27;</span>,<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="string">&#x27;æ—¶æ®µ&#x27;</span>]]</span><br><span class="line">dff=dff[dff.duplicated()]</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> dff.values:</span><br><span class="line">    <span class="built_in">print</span>(df[ (df.å·¥å·==row[<span class="number">0</span>]) &amp; (df.æ—¥æœŸ==row[<span class="number">2</span>]) &amp; (df.æ—¥æœŸ==row[<span class="number">2</span>]) &amp;(df.æ—¶æ®µ==row[<span class="number">3</span>])])</span><br></pre></td></tr></table></figure><pre><code>ä¸€äººåŒæ—¶è´Ÿè´£å¤šä¸ªæŸœå°çš„æ’ç­
    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
49  1002  æå››  2019-03-07  14ï¼š00-21ï¼š00  1199.0    åŒ–å¦†å“
55  1002  æå››  2019-03-07  14ï¼š00-21ï¼š00   831.0  è”¬èœæ°´æœ
     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
103  1006  é’±å…«  2019-03-13  14ï¼š00-21ï¼š00  1609.0  è”¬èœæ°´æœ
104  1006  é’±å…«  2019-03-13  14ï¼š00-21ï¼š00  1609.0  è”¬èœæ°´æœ
     å·¥å·  å§“å        æ—¥æœŸ          æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
171  1006  é’±å…«  2019-03-22  9ï¼š00-14ï¼š00  1555.0  è”¬èœæ°´æœ
175  1006  é’±å…«  2019-03-22  9ï¼š00-14ï¼š00  1503.0      é£Ÿå“
     å·¥å·  å§“å        æ—¥æœŸ          æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
201  1004  èµµå…­  2019-03-26  9ï¼š00-14ï¼š00  1599.0  åŒ–å¦†å“
210  1004  èµµå…­  2019-03-26  9ï¼š00-14ï¼š00  1257.0  åŒ–å¦†å“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç›´æ¥ä¸¢å¼ƒå…¨éƒ¨è¡Œ</span></span><br><span class="line">df = df.drop_duplicates()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æœ‰æ•ˆæ•°æ®æ€»è¡Œ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(df))</span><br></pre></td></tr></table></figure><pre><code>æœ‰æ•ˆæ•°æ®æ€»è¡Œ
248
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯ä»¥æŸ¥çœ‹æ˜¯å¦æœ‰å½•å…¥é”™è¯¯çš„å·¥å·å’Œå§“å</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ‰€æœ‰å·¥å·ä¸å§“åçš„å¯¹åº”å…³ç³»&#x27;</span>)</span><br><span class="line">dff = df[[<span class="string">&#x27;å·¥å·&#x27;</span>,<span class="string">&#x27;å§“å&#x27;</span>]]</span><br><span class="line"><span class="built_in">print</span>(dff.drop_duplicates())</span><br></pre></td></tr></table></figure><pre><code>æ‰€æœ‰å·¥å·ä¸å§“åçš„å¯¹åº”å…³ç³»
   å·¥å·  å§“å
0  1001  å¼ ä¸‰
1  1002  æå››
2  1003  ç‹äº”
3  1004  èµµå…­
4  1005  å‘¨ä¸ƒ
5  1006  é’±å…«
</code></pre><h2 id="ä½¿ç”¨æ•°æ®å·®åˆ†æŸ¥çœ‹å‘˜å·¥ä¸šç»©æ³¢åŠ¨æƒ…å†µ">ä½¿ç”¨æ•°æ®å·®åˆ†æŸ¥çœ‹å‘˜å·¥ä¸šç»©æ³¢åŠ¨æƒ…å†µ</h2><p>diff(periods=1, axis=0)</p><p>å‚æ•°periodsç”¨æ¥æŒ‡å®šå·®åˆ†çš„è·¨åº¦ï¼Œå½“periods=1ä¸”axis=0æ—¶è¡¨ç¤ºæ¯ä¸€è¡Œæ•°æ®å‡å»ç´§é‚»çš„ä¸Šä¸€è¡Œæ•°æ®ï¼Œå½“periods=2ä¸”axis=0æ—¶è¡¨ç¤ºæ¯ä¸€è¡Œå‡å»ä¸Šé¢ç¬¬äºŒè¡Œçš„æ•°æ®ï¼›</p><p>å‚æ•°axis=0æ—¶è¡¨ç¤ºæŒ‰è¡Œè¿›è¡Œçºµå‘å·®åˆ†ï¼Œaxis=1æ—¶è¡¨ç¤ºæŒ‰åˆ—æ¨ªå‘å·®åˆ†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯å¤©äº¤æ˜“æ€»é¢å˜åŒ–æƒ…å†µ&#x27;</span>)</span><br><span class="line">dff = df.groupby(by=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>).<span class="built_in">sum</span>()[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].diff()</span><br><span class="line"><span class="built_in">print</span>(dff.<span class="built_in">map</span>(<span class="keyword">lambda</span> num:<span class="string">&#x27;%+.2f&#x27;</span>%num)[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯å¤©äº¤æ˜“æ€»é¢å˜åŒ–æƒ…å†µ
æ—¥æœŸ
2019-03-01       +nan
2019-03-02    -248.00
2019-03-03    +924.00
2019-03-04     +56.00
2019-03-05    -277.00
Name: äº¤æ˜“é¢, dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å¼ ä¸‰çš„æ¯å¤©äº¤æ˜“æ€»é¢å˜åŒ–æƒ…å†µ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df.å§“å==<span class="string">&#x27;å¼ ä¸‰&#x27;</span>].groupby(by=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>).<span class="built_in">sum</span>()[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].diff()[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>å¼ ä¸‰çš„æ¯å¤©äº¤æ˜“æ€»é¢å˜åŒ–æƒ…å†µ
æ—¥æœŸ
2019-03-01       NaN
2019-03-02   -1576.0
2019-03-03    -169.0
2019-03-04    -145.0
2019-03-05    1031.0
Name: äº¤æ˜“é¢, dtype: float64
</code></pre><h2 id="ä½¿ç”¨é€è§†è¡¨ä¸äº¤å‰è¡¨æŸ¥çœ‹ä¸šç»©æ±‡æ€»æ•°æ®">ä½¿ç”¨é€è§†è¡¨ä¸äº¤å‰è¡¨æŸ¥çœ‹ä¸šç»©æ±‡æ€»æ•°æ®</h2><h3 id="é€è§†è¡¨">é€è§†è¡¨</h3><p>pivot(index=None, columns=None, values=None)</p><p>å‚æ•°indexç”¨æ¥æŒ‡å®šä½¿ç”¨å“ªä¸€åˆ—æ•°æ®ä½œä¸ºç»“æœDataFrameçš„ç´¢å¼•ï¼›</p><p>å‚æ•°columnsç”¨æ¥æŒ‡å®šå“ªä¸€åˆ—æ•°æ®ä½œä¸ºç»“æœDataFrameçš„åˆ—åï¼›</p><p>å‚æ•°valuesç”¨æ¥æŒ‡å®šå“ªä¸€åˆ—æ•°æ®ä½œä¸ºç»“æœDataFrameçš„å€¼ã€‚</p><p>pivot_table(values=None, index=None, columns=None, aggfunc=â€˜meanâ€™, fill_value=None, margins=False, dropna=True, margins_name=â€˜Allâ€™)</p><p>å‚æ•°valuesã€indexã€columnsçš„å«ä¹‰ä¸DataFrameç»“æ„çš„pivot()æ–¹æ³•ä¸€æ ·ï¼›</p><p>å‚æ•°aggfuncç”¨æ¥æŒ‡å®šæ•°æ®çš„èšåˆæ–¹å¼ï¼Œä¾‹å¦‚æ±‚å¹³å‡ã€æ±‚å’Œã€æ±‚ä¸­å€¼ç­‰ï¼›</p><p>å‚æ•°marginsç”¨æ¥æŒ‡å®šæ˜¯å¦æ˜¾ç¤ºè¾¹ç•Œä»¥åŠè¾¹ç•Œä¸Šçš„æ•°æ®ï¼›</p><p>å‚æ•°margins_nameç”¨æ¥æŒ‡å®šè¾¹ç•Œæ•°æ®çš„ç´¢å¼•åç§°å’Œåˆ—åï¼›</p><p>å‚æ•°dropnaç”¨æ¥æŒ‡å®šæ˜¯å¦ä¸¢å¼ƒç¼ºå¤±å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æ¯äººæ¯å¤©äº¤æ˜“æ€»é¢&#x27;</span>)</span><br><span class="line">dff = df.groupby(by=[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æ—¥æœŸ&#x27;</span>],as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(dff.iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æ¯äººæ¯å¤©äº¤æ˜“æ€»é¢
     å§“å        æ—¥æœŸ  å·¥å·  äº¤æ˜“é¢
0    å‘¨ä¸ƒ  2019-03-01  1005   994.0
1    å‘¨ä¸ƒ  2019-03-02  1005  1444.0
2    å‘¨ä¸ƒ  2019-03-03  2010  3230.0
3    å‘¨ä¸ƒ  2019-03-04  2010  2545.0
4    å‘¨ä¸ƒ  2019-03-05  1005  1249.0
..    ...         ...   ...     ...
173  é’±å…«  2019-03-27  2012  2996.0
174  é’±å…«  2019-03-28  1006  1219.0
175  é’±å…«  2019-03-29  1006  1639.0
176  é’±å…«  2019-03-30  1006  1090.0
177  é’±å…«  2019-03-31  1006   812.0

[178 rows x 4 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“æ€»é¢ä½äº5ä¸‡å…ƒçš„å‘˜å·¥å‰5å¤©ä¸šç»©&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff[dff.<span class="built_in">sum</span>(axis=<span class="number">1</span>)&lt;<span class="number">50000</span>].iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“æ€»é¢ä½äº5ä¸‡å…ƒçš„å‘˜å·¥å‰5å¤©ä¸šç»©
     å§“å        æ—¥æœŸ  å·¥å·  äº¤æ˜“é¢
0    å‘¨ä¸ƒ  2019-03-01  1005   994.0
1    å‘¨ä¸ƒ  2019-03-02  1005  1444.0
2    å‘¨ä¸ƒ  2019-03-03  2010  3230.0
3    å‘¨ä¸ƒ  2019-03-04  2010  2545.0
4    å‘¨ä¸ƒ  2019-03-05  1005  1249.0
..    ...         ...   ...     ...
173  é’±å…«  2019-03-27  2012  2996.0
174  é’±å…«  2019-03-28  1006  1219.0
175  é’±å…«  2019-03-29  1006  1639.0
176  é’±å…«  2019-03-30  1006  1090.0
177  é’±å…«  2019-03-31  1006   812.0

[178 rows x 4 columns]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“æ€»é¢ä½äº5ä¸‡å…ƒçš„å‘˜å·¥å§“å&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff[dff.<span class="built_in">sum</span>(axis=<span class="number">1</span>)&lt;<span class="number">50000</span>].index.values)</span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“æ€»é¢ä½äº5ä¸‡å…ƒçš„å‘˜å·¥å§“å
[  0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35
  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53
  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71
  72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89
  90  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107
 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125
 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143
 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161
 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨pivot_table()æ–¹æ³•å®ç°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.pivot_table(values=<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,index=<span class="string">&#x27;å§“å&#x27;</span>,columns=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,aggfunc=<span class="string">&#x27;sum&#x27;</span>,margins=<span class="literal">True</span>).iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>ä½¿ç”¨pivot_table()æ–¹æ³•å®ç°
æ—¥æœŸ  2019-03-01  2019-03-02  2019-03-03  2019-03-04  2019-03-05
å§“å                                                            
å‘¨ä¸ƒ       994.0      1444.0      3230.0      2545.0      1249.0
å¼ ä¸‰      3106.0      1530.0      1361.0      1216.0      2247.0
æå››       954.0      3044.0      1034.0      2734.0      3148.0
ç‹äº”      1407.0      2115.0      1713.0      1590.0      1687.0
èµµå…­      1320.0       906.0      2309.0      1673.0       974.0
é’±å…«      2647.0      1141.0      1457.0      1402.0      1578.0
All      10428.0     10180.0     11104.0     11160.0     10883.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æ¯äººåœ¨æŸœå°çš„äº¤æ˜“é¢&#x27;</span>)</span><br><span class="line">dff = df.groupby(by=[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æŸœå°&#x27;</span>],as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(df.pivot_table(values=<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,index=<span class="string">&#x27;å§“å&#x27;</span>,columns=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,aggfunc=<span class="string">&#x27;count&#x27;</span>,margins=<span class="literal">True</span>).iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æ¯äººåœ¨æŸœå°çš„äº¤æ˜“é¢
æ—¥æœŸ  2019-03-01  2019-03-02  2019-03-03  2019-03-04  2019-03-05
å§“å                                                            
å‘¨ä¸ƒ         1.0         1.0         2.0         2.0         1.0
å¼ ä¸‰         2.0         1.0         1.0         1.0         2.0
æå››         1.0         2.0         1.0         2.0         2.0
ç‹äº”         1.0         2.0         1.0         1.0         1.0
èµµå…­         1.0         1.0         2.0         1.0         1.0
é’±å…«         2.0         1.0         1.0         1.0         1.0
All          8.0         8.0         8.0         8.0         8.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹æ¯äººåœ¨å„æŸœå°çš„ä¸Šç­æ¬¡æ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.pivot_table(values=<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>,index=<span class="string">&#x27;å§“å&#x27;</span>,columns=<span class="string">&#x27;æŸœå°&#x27;</span>,aggfunc=<span class="string">&#x27;count&#x27;</span>,margins=<span class="literal">True</span>))</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹æ¯äººåœ¨å„æŸœå°çš„ä¸Šç­æ¬¡æ•°
æŸœå°  åŒ–å¦†å“  æ—¥ç”¨å“  è”¬èœæ°´æœ  é£Ÿå“  All
å§“å                                     
å‘¨ä¸ƒ     8.0    11.0      14.0   7.0   40
å¼ ä¸‰    19.0     6.0       6.0   7.0   38
æå››    16.0     9.0      18.0   4.0   47
ç‹äº”     8.0     9.0       9.0  14.0   40
èµµå…­    10.0    18.0       2.0  15.0   45
é’±å…«     NaN     9.0      14.0  13.0   36
All     61.0    62.0      63.0  60.0  246
</code></pre><h3 id="äº¤å‰è¡¨">äº¤å‰è¡¨</h3><p>äº¤å‰è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„é€è§†è¡¨ï¼Œå¾€å¾€ç”¨æ¥ç»Ÿè®¡é¢‘æ¬¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‚æ•°aggfuncæŒ‡å®šèšåˆå‡½æ•°å®ç°å…¶ä»–åŠŸèƒ½ã€‚</p><p>crosstab(index, columns, values=None, rownames=None, colnames=None, aggfunc=None, margins=False, dropna=True, normalize=False)</p><p>å‚æ•°valuesã€indexã€columnsçš„å«ä¹‰ä¸DataFrameç»“æ„çš„pivot()æ–¹æ³•ä¸€æ ·ï¼›</p><p>å‚æ•°aggfuncç”¨æ¥æŒ‡å®šèšåˆå‡½æ•°ï¼Œé»˜è®¤ä¸ºç»Ÿè®¡æ¬¡æ•°ï¼›</p><p>å‚æ•°rownameså’Œcolnamesåˆ†åˆ«ç”¨æ¥æŒ‡å®šè¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•çš„åå­—ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™ç›´æ¥ä½¿ç”¨å‚æ•°indexå’ŒcolumnsæŒ‡å®šçš„åˆ—åã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯äººæ¯å¤©çš„ä¸Šç­æ¬¡æ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.crosstab(df.å§“å,df.æ—¥æœŸ,margins=<span class="literal">True</span>).iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯äººæ¯å¤©çš„ä¸Šç­æ¬¡æ•°
æ—¥æœŸ  2019-03-01  2019-03-02  2019-03-03  2019-03-04  2019-03-05
å§“å                                                            
å‘¨ä¸ƒ           1           1           2           2           1
å¼ ä¸‰           2           1           1           1           2
æå››           1           2           1           2           2
ç‹äº”           1           2           1           1           1
èµµå…­           1           1           2           1           1
é’±å…«           2           1           1           1           1
All            8           8           8           8           8
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯äººåœ¨å„æŸœå°ä¸Šç­æ€»æ¬¡æ•°&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.crosstab(df.å§“å,df.æŸœå°,margins=<span class="literal">True</span>).iloc[:,:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯äººåœ¨å„æŸœå°ä¸Šç­æ€»æ¬¡æ•°
æŸœå°  åŒ–å¦†å“  æ—¥ç”¨å“  è”¬èœæ°´æœ  é£Ÿå“  All
å§“å                                     
å‘¨ä¸ƒ       9      11        14     8   42
å¼ ä¸‰      19       6         6     7   38
æå››      16       9        18     4   47
ç‹äº”       8       9         9    14   40
èµµå…­      10      18         2    15   45
é’±å…«       0       9        14    14   37
All       62      62        63    62  249
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯äººåœ¨å„æŸœå°äº¤æ˜“æ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.crosstab(df.å§“å,df.æŸœå°,df.äº¤æ˜“é¢,aggfunc=<span class="string">&#x27;sum&#x27;</span>))</span><br></pre></td></tr></table></figure><pre><code>æ¯äººåœ¨å„æŸœå°äº¤æ˜“æ€»é¢
æŸœå°   åŒ–å¦†å“   æ—¥ç”¨å“  è”¬èœæ°´æœ     é£Ÿå“
å§“å                                     
å‘¨ä¸ƒ   9516.0  12863.0   16443.0   8996.0
å¼ ä¸‰  22975.0  18629.0    7265.0   9261.0
æå››  20467.0  10104.0   23263.0   4896.0
ç‹äº”  10112.0  11357.0   10473.0  26950.0
èµµå…­  12319.0  23286.0    2527.0  17937.0
é’±å…«      NaN  11923.0   18561.0  17134.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯äººåœ¨å„æŸœå°äº¤æ˜“é¢å¹³å‡å€¼&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.crosstab(df.å§“å,df.æŸœå°,df.äº¤æ˜“é¢,aggfunc=<span class="string">&#x27;mean&#x27;</span>).apply(<span class="keyword">lambda</span> num:<span class="built_in">round</span>(num,<span class="number">2</span>)))</span><br></pre></td></tr></table></figure><pre><code>æ¯äººåœ¨å„æŸœå°äº¤æ˜“é¢å¹³å‡å€¼
æŸœå°   åŒ–å¦†å“   æ—¥ç”¨å“  è”¬èœæ°´æœ     é£Ÿå“
å§“å                                     
å‘¨ä¸ƒ  1189.50  1169.36   1174.50  1285.14
å¼ ä¸‰  1209.21  3104.83   1210.83  1323.00
æå››  1279.19  1122.67   1292.39  1224.00
ç‹äº”  1264.00  1261.89   1163.67  1925.00
èµµå…­  1231.90  1293.67   1263.50  1195.80
é’±å…«      NaN  1324.78   1325.79  1318.00
</code></pre><h2 id="ä½¿ç”¨é‡é‡‡æ ·æŠ€æœ¯æŒ‰æ—¶é—´æ®µæŸ¥çœ‹å‘˜å·¥ä¸šç»©">ä½¿ç”¨é‡é‡‡æ ·æŠ€æœ¯æŒ‰æ—¶é—´æ®µæŸ¥çœ‹å‘˜å·¥ä¸šç»©</h2><p>resample(rule, how=None, axis=0, fill_method=None, closed=None, label=None, convention=â€˜startâ€™, kind=None, loffset=None, limit=None, base=0, on=None, level=None)</p><p>å‚æ•°ruleç”¨æ¥æŒ‡å®šé‡é‡‡æ ·çš„æ—¶é—´é—´éš”ï¼Œä¾‹å¦‚â€™7Dâ€™è¡¨ç¤ºæ¯7å¤©é‡‡æ ·ä¸€æ¬¡ï¼›</p><p>å‚æ•°howç”¨æ¥æŒ‡å®šå¦‚ä½•å¤„ç†ä¸¤ä¸ªé‡‡æ ·æ—¶é—´ä¹‹é—´çš„æ•°æ®ï¼Œä¸è¿‡è¯¥å‚æ•°å¾ˆå¿«ä¼šè¢«æ–°ç‰ˆæœ¬ä¸¢å¼ƒä¸ç”¨äº†ï¼›</p><p>å‚æ•°label = 'leftâ€™è¡¨ç¤ºä½¿ç”¨é‡‡æ ·å‘¨æœŸçš„èµ·å§‹æ—¶é—´ä½œä¸ºç»“æœDataFrameçš„indexï¼Œlabel='rightâ€™è¡¨ç¤ºä½¿ç”¨é‡‡æ ·å‘¨æœŸçš„ç»“æŸæ—¶é—´ä½œä¸ºç»“æœDataFrameçš„indexï¼›</p><p>å‚æ•°onç”¨æ¥æŒ‡å®šæ ¹æ®å“ªä¸€åˆ—è¿›è¡Œé‡é‡‡æ ·ï¼Œè¦æ±‚è¯¥åˆ—æ•°æ®ä¸ºæ—¥æœŸæ—¶é—´ç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line">df.æ—¥æœŸ = pd.to_datetime(df.æ—¥æœŸ)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯7å¤©è¥ä¸šé¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.resample(<span class="string">&#x27;7D&#x27;</span>,on=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,label=<span class="string">&#x27;right&#x27;</span>).<span class="built_in">sum</span>()[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯7å¤©è¥ä¸šé¢
æ—¥æœŸ
2019-03-08    73600.0
2019-03-15    77823.0
2019-03-22    65996.0
2019-03-29    79046.0
2019-04-05    30792.0
Freq: 7D, Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯7å¤©è¥ä¸šæ€»é¢&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.resample(<span class="string">&#x27;7D&#x27;</span>,on=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>).<span class="built_in">sum</span>()[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯7å¤©è¥ä¸šæ€»é¢
æ—¥æœŸ
2019-03-01    73600.0
2019-03-08    77823.0
2019-03-15    65996.0
2019-03-22    79046.0
2019-03-29    30792.0
Freq: 7D, Name: äº¤æ˜“é¢, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ¯7å¤©è¥ä¸šé¢å¹³å‡å€¼&#x27;</span>)</span><br><span class="line">func = <span class="keyword">lambda</span> num:<span class="built_in">round</span>(num,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(df.resample(<span class="string">&#x27;7D&#x27;</span>,on=<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,label=<span class="string">&#x27;right&#x27;</span>).mean().apply(func)[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æ¯7å¤©è¥ä¸šé¢å¹³å‡å€¼
æ—¥æœŸ
2019-03-08    1314.29
2019-03-15    1389.70
2019-03-22    1222.15
2019-03-29    1411.54
2019-04-05    1283.00
Freq: 7D, Name: äº¤æ˜“é¢, dtype: float64
</code></pre><h2 id="å¤šç´¢å¼•ç›¸å…³æŠ€æœ¯ä¸æ“ä½œ">å¤šç´¢å¼•ç›¸å…³æŠ€æœ¯ä¸æ“ä½œ</h2><p>DataFrameç»“æ„æ”¯æŒå¤šä¸ªç´¢å¼•ï¼Œæ—¢å¯ä»¥åœ¨è¯»å–æ•°æ®æ—¶ä½¿ç”¨index_colæŒ‡å®šå¤šåˆ—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡groupby()æ–¹æ³•åˆ†ç»„æ—¶æŒ‡å®šå¤šä¸ªç´¢å¼•ã€‚å¯¹äºå«æœ‰å¤šä¸ªç´¢å¼•çš„DataFrameç»“æ„ï¼Œåœ¨ä½¿ç”¨sort_index()æ–¹æ³•æŒ‰ç´¢å¼•æ’åºã€ä½¿ç”¨groupby()æ–¹æ³•è¿›è¡Œåˆ†ç»„æ—¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å‚æ•°levelæŒ‡å®šæŒ‰å“ªä¸€çº§ç´¢å¼•è¿›è¡Œæ’åºæˆ–åˆ†ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#åˆ é™¤å·¥å·ä¸€åˆ—çš„æ•°æ® </span></span><br><span class="line">df.drop(<span class="string">&#x27;å·¥å·&#x27;</span>,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">df = df.groupby(by=[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æŸœå°&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰å§“åå’ŒæŸœå°è¿›è¡Œåˆ†ç»„æ±‡æ€»&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰å§“åå’ŒæŸœå°è¿›è¡Œåˆ†ç»„æ±‡æ€»
                äº¤æ˜“é¢
å§“å æŸœå°             
å‘¨ä¸ƒ åŒ–å¦†å“     9516.0
     æ—¥ç”¨å“    12863.0
     è”¬èœæ°´æœ  16443.0
     é£Ÿå“       8996.0
å¼ ä¸‰ åŒ–å¦†å“    22975.0
     æ—¥ç”¨å“    18629.0
     è”¬èœæ°´æœ   7265.0
     é£Ÿå“       9261.0
æå›› åŒ–å¦†å“    20467.0
     æ—¥ç”¨å“    10104.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹å‘¨ä¸ƒçš„æ±‡æ€»æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;å‘¨ä¸ƒ&#x27;</span>,<span class="string">&#x27;åŒ–å¦†å“&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹å‘¨ä¸ƒçš„æ±‡æ€»æ•°æ®
äº¤æ˜“é¢    9516.0
Name: (å‘¨ä¸ƒ, åŒ–å¦†å“), dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ¥çœ‹å‘¨ä¸ƒåœ¨åŒ–å¦†å“æŸœå°çš„äº¤æ˜“æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.loc[(<span class="string">&#x27;å‘¨ä¸ƒ&#x27;</span>,<span class="string">&#x27;åŒ–å¦†å“&#x27;</span>)])</span><br></pre></td></tr></table></figure><pre><code>æŸ¥çœ‹å‘¨ä¸ƒåœ¨åŒ–å¦†å“æŸœå°çš„äº¤æ˜“æ•°æ®
äº¤æ˜“é¢    9516.0
Name: (å‘¨ä¸ƒ, åŒ–å¦†å“), dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"> <span class="comment">#åˆ é™¤å·¥å·ä¸€åˆ—çš„æ•°æ® </span></span><br><span class="line">df.drop(<span class="string">&#x27;å·¥å·&#x27;</span>,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰ç´¢å¼•â€œæŸœå°â€æ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ</span></span><br><span class="line">dff = df.sort_index(level=<span class="string">&#x27;æŸœå°&#x27;</span>,axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰æŸœå°æ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff[:<span class="number">12</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰æŸœå°æ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ
    å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0   å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
1   æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
2   ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0      é£Ÿå“
3   èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0      é£Ÿå“
4   å‘¨ä¸ƒ  2019-03-01   9ï¼š00-14ï¼š00   994.0    æ—¥ç”¨å“
5   é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
6   é’±å…«  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
7   å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
8   å¼ ä¸‰  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
9   æå››  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
10  ç‹äº”  2019-03-02   9ï¼š00-14ï¼š00   936.0      é£Ÿå“
11  èµµå…­  2019-03-02  14ï¼š00-21ï¼š00   906.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰ç´¢å¼•â€œå§“åâ€æ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ</span></span><br><span class="line">dff = df.sort_index(level=<span class="string">&#x27;æŸœå°&#x27;</span>,axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰å§“åæ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff[:<span class="number">12</span>])</span><br></pre></td></tr></table></figure><pre><code>æŒ‰å§“åæ’åºï¼ŒæŸ¥çœ‹å‰12è¡Œ
    å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0   å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
1   æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
2   ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0      é£Ÿå“
3   èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0      é£Ÿå“
4   å‘¨ä¸ƒ  2019-03-01   9ï¼š00-14ï¼š00   994.0    æ—¥ç”¨å“
5   é’±å…«  2019-03-01  14ï¼š00-21ï¼š00  1421.0    æ—¥ç”¨å“
6   é’±å…«  2019-03-01   9ï¼š00-14ï¼š00  1226.0  è”¬èœæ°´æœ
7   å¼ ä¸‰  2019-03-01  14ï¼š00-21ï¼š00  1442.0  è”¬èœæ°´æœ
8   å¼ ä¸‰  2019-03-02   9ï¼š00-14ï¼š00  1530.0    åŒ–å¦†å“
9   æå››  2019-03-02  14ï¼š00-21ï¼š00  1395.0    åŒ–å¦†å“
10  ç‹äº”  2019-03-02   9ï¼š00-14ï¼š00   936.0      é£Ÿå“
11  èµµå…­  2019-03-02  14ï¼š00-21ï¼š00   906.0      é£Ÿå“
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰ç´¢å¼•â€œæŸœå°â€åˆ†ç»„æ±‚å’Œ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰æŸœå°åˆ†ç»„æ±‚å’Œ&#x27;</span>)</span><br><span class="line">dfff = dff.groupby(by=<span class="string">&#x27;æŸœå°&#x27;</span>).<span class="built_in">sum</span>() </span><br><span class="line">dfff.columns = [<span class="string">&#x27;äº¤æ˜“é¢æ€»å’Œ&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(dfff)</span><br></pre></td></tr></table></figure><pre><code>æŒ‰æŸœå°åˆ†ç»„æ±‚å’Œ
          äº¤æ˜“é¢æ€»å’Œ
æŸœå°                
åŒ–å¦†å“       75389.0
æ—¥ç”¨å“       88162.0
è”¬èœæ°´æœ     78532.0
é£Ÿå“         85174.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰ç´¢å¼•â€œå§“åâ€åˆ†ç»„æ±‚ä¸­å€¼</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰å§“ååˆ†ç»„æ±‚ä¸­å€¼&#x27;</span>)</span><br><span class="line">dfff = dff.groupby(by=<span class="string">&#x27;å§“å&#x27;</span>).median() </span><br><span class="line">dfff.columns = [<span class="string">&#x27;äº¤æ˜“é¢ä¸­å€¼&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(dfff)</span><br></pre></td></tr></table></figure><pre><code>æŒ‰å§“ååˆ†ç»„æ±‚ä¸­å€¼
      äº¤æ˜“é¢ä¸­å€¼
å§“å            
å‘¨ä¸ƒ      1134.5
å¼ ä¸‰      1290.0
æå››      1276.0
ç‹äº”      1227.0
èµµå…­      1224.0
é’±å…«      1381.0
</code></pre><h2 id="ä½¿ç”¨æ ‡å‡†å·®ä¸åæ–¹å·®åˆ†æå‘˜å·¥ä¸šç»©">ä½¿ç”¨æ ‡å‡†å·®ä¸åæ–¹å·®åˆ†æå‘˜å·¥ä¸šç»©</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸¢å¼ƒç¼ºå¤±å€¼å’Œé‡å¤å€¼</span></span><br><span class="line">df.dropna(inplace=<span class="literal">True</span>)</span><br><span class="line">df.drop_duplicates(inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¤„ç†ç¼ºå¤±å€¼</span></span><br><span class="line">df.loc[df.äº¤æ˜“é¢&lt;<span class="number">200</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>] = <span class="number">200</span></span><br><span class="line">df.loc[df.äº¤æ˜“é¢&gt;<span class="number">3000</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>] = <span class="number">3000</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨äº¤å‰è¡¨å¾—åˆ°ä¸åŒå‘˜å·¥åœ¨ä¸åŒæŸœå°çš„äº¤æ˜“é¢å¹³å‡å€¼</span></span><br><span class="line">dff = pd.crosstab(df.å§“å,df.æŸœå°,df.äº¤æ˜“é¢,aggfunc=<span class="string">&#x27;mean&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ ‡å‡†å·®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff.std())</span><br></pre></td></tr></table></figure><pre><code>æ ‡å‡†å·®
æŸœå°
åŒ–å¦†å“       36.480497
æ—¥ç”¨å“      159.008839
è”¬èœæ°´æœ     60.331171
é£Ÿå“        105.031231
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;åæ–¹å·®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff.cov())</span><br></pre></td></tr></table></figure><pre><code>åæ–¹å·®
æŸœå°           åŒ–å¦†å“        æ—¥ç”¨å“     è”¬èœæ°´æœ          é£Ÿå“
æŸœå°                                                          
åŒ–å¦†å“    1330.826697  -2296.460562   923.019793    692.300017
æ—¥ç”¨å“   -2296.460562  25283.810853 -1030.111953   2957.850772
è”¬èœæ°´æœ   923.019793  -1030.111953  3639.850206  -3918.549524
é£Ÿå“       692.300017   2957.850772 -3918.549524  11031.559490
</code></pre><h2 id="ä½¿ç”¨pandasçš„å±æ€§æ¥å£å®ç°é«˜çº§åŠŸèƒ½">ä½¿ç”¨pandasçš„å±æ€§æ¥å£å®ç°é«˜çº§åŠŸèƒ½</h2><p>DataFrameæ•°æ®ä¸­çš„æ—¥æœŸæ—¶é—´åˆ—æ”¯æŒdtæ¥å£ï¼Œè¯¥æ¥å£æä¾›äº†dayofweekã€dayofyearã€is_leap_yearã€quarterã€weekday_nameç­‰å±æ€§å’Œæ–¹æ³•ï¼Œä¾‹å¦‚quarterå¯ä»¥ç›´æ¥å¾—åˆ°æ¯ä¸ªæ—¥æœŸåˆ†åˆ«æ˜¯ç¬¬å‡ ä¸ªå­£åº¦ï¼Œweekday_nameå¯ä»¥ç›´æ¥æ¯ä¸ªæ—¥æœŸå¯¹åº”çš„å‘¨å‡ çš„åå­—ã€‚</p><p>DataFrameæ•°æ®ä¸­çš„å­—ç¬¦ä¸²åˆ—æ”¯æŒstræ¥å£ï¼Œè¯¥æ¥å£æä¾›äº†centerã€containsã€countã€endswithã€findã€extractã€lowerã€splitç­‰å¤§é‡å±æ€§å’Œæ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>,usecols=[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ·±å¤åˆ¶ï¼Œä¸å½±å“åŸæ¥çš„df</span></span><br><span class="line">dff = copy.deepcopy(df)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠæ—¥æœŸåˆ—æ›¿æ¢ä¸ºå‘¨å‡ </span></span><br><span class="line">dff[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>] = pd.to_datetime(df[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>]).dt.weekday</span><br><span class="line"><span class="comment">#æŒ‰å‘¨å‡ åˆ†ç»„ï¼ŒæŸ¥çœ‹äº¤æ˜“é¢å¹³å‡å€¼ï¼Œå››èˆäº”å…¥</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰å‘¨å‡ åˆ†ç»„æŸ¥çœ‹äº¤æ˜“é¢å¹³å‡å€¼&#x27;</span>)</span><br><span class="line">dff = dff.groupby(<span class="string">&#x27;æ—¥æœŸ&#x27;</span>).mean().apply(<span class="built_in">round</span>)</span><br><span class="line">dff.index.name = <span class="string">&#x27;å‘¨å‡ &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(dff)</span><br></pre></td></tr></table></figure><pre><code>æŒ‰å‘¨å‡ åˆ†ç»„æŸ¥çœ‹äº¤æ˜“é¢å¹³å‡å€¼
      äº¤æ˜“é¢
å‘¨å‡         
0     1233.0
1     1258.0
2     1224.0
3     1830.0
4     1277.0
5     1306.0
6     1254.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dff=copy.deepcopy(df) </span><br><span class="line"><span class="comment">#ä¿®æ”¹æ—¥æœŸåˆ—ï¼Œåªä¿ç•™å¹´ä»½å’Œæœˆä»½ </span></span><br><span class="line">dff[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>]=dff[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].<span class="built_in">str</span>.extract(<span class="string">r&#x27;(\d&#123;4&#125;-\d&#123;2&#125;)&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;åªæŸ¥çœ‹å¹´ä»½å’Œæœˆä»½&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(dff[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure><pre><code>åªæŸ¥çœ‹å¹´ä»½å’Œæœˆä»½
      æ—¥æœŸ  äº¤æ˜“é¢
0  2019-03  1664.0
1  2019-03   954.0
2  2019-03  1407.0
3  2019-03  1320.0
4  2019-03   994.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰å­—ç¬¦ä¸²å½¢å¼çš„æ—¥æœŸæœ€åä¸€ä½æ•°è¿›è¡Œåˆ†ç»„ </span></span><br><span class="line"><span class="comment">#è¯¥æœˆ1ã€11ã€21ã€31æ—¥æ±‡æ€»ä¸ºä¸€ç»„ï¼Œ2ã€12ã€22æ—¥ä¸ºä¸€ç»„ï¼Œä»¥æ­¤ç±»æ¨ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŒ‰æ—¥æœŸçš„æ—¥è¿›è¡Œåˆ†ç»„æŸ¥çœ‹äº¤æ˜“é¢å¹³å‡å€¼&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df.groupby(df[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].<span class="built_in">str</span>.__getitem__(-<span class="number">1</span>)).mean().apply(<span class="built_in">round</span>)) </span><br></pre></td></tr></table></figure><pre><code>æŒ‰æ—¥æœŸçš„æ—¥è¿›è¡Œåˆ†ç»„æŸ¥çœ‹äº¤æ˜“é¢å¹³å‡å€¼
      äº¤æ˜“é¢
æ—¥æœŸ        
0     1178.0
1     1264.0
2     1273.0
3     1317.0
4     1801.0
5     1223.0
6     1292.0
7     1216.0
8     1508.0
9     1266.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æ—¥æœŸå°¾æ•°ä¸º6çš„æ•°æ®å‰12è¡Œ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æŸ»ç€æ—¥æœŸå°¾æ•°åŠ› 6 çš„æ•°æ®&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df[df[<span class="string">&#x27;æ—¥æœŸ&#x27;</span>].<span class="built_in">str</span>.endswith(<span class="string">&#x27;6&#x27;</span>)][:<span class="number">12</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code>æŸ»ç€æ—¥æœŸå°¾æ•°åŠ› 6 çš„æ•°æ®
           æ—¥æœŸ  äº¤æ˜“é¢
40   2019-03-06  1037.0
41   2019-03-06   822.0
42   2019-03-06  1200.0
43   2019-03-06  1245.0
44   2019-03-06  1699.0
45   2019-03-06  1199.0
46   2019-03-06  1162.0
47   2019-03-06  1778.0
121  2019-03-16  1788.0
122  2019-03-16  1590.0
123  2019-03-16  1498.0
124  2019-03-16     NaN
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æ—¥æœŸå°¾æ•°ä¸º12çš„æ•°æ® #sliceï¼ˆï¼‰æ–¹æ³•æ¥æ”¶3ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºèµ·å§‹ä½ç½®ã€ç»“æŸä½ç½®å’Œæ­¥é•¿ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ—¥æœŸå°¾æ•°ä¸º12çš„äº¤æ˜“æ•°æ®&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df[df.æ—¥æœŸ.<span class="built_in">str</span>.<span class="built_in">slice</span>(-<span class="number">2</span>)==<span class="string">&#x27;12&#x27;</span>])</span><br></pre></td></tr></table></figure><pre><code>æ—¥æœŸå°¾æ•°ä¸º12çš„äº¤æ˜“æ•°æ®
          æ—¥æœŸ  äº¤æ˜“é¢
88  2019-03-12  1183.0
89  2019-03-12   979.0
90  2019-03-12  1651.0
91  2019-03-12  1435.0
92  2019-03-12  1302.0
93  2019-03-12  1317.0
94  2019-03-12   831.0
95  2019-03-12  1530.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ—¥æœŸä¸­æœˆä»½æˆ–å¤©æ•°åŒ…å«2çš„äº¤æ˜“æ•°æ®ç¬¬15åˆ°ç¬¬25è¡Œ </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æ—¥æœŸä¸­æœˆä»½æˆ–å¤©æ•°åŒ…å«2çš„äº¤æ˜“æ•°æ®&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(df[df.æ—¥æœŸ.<span class="built_in">str</span>.<span class="built_in">slice</span>(-<span class="number">5</span>).<span class="built_in">str</span>.contains(<span class="string">&#x27;2&#x27;</span>)][<span class="number">15</span>:<span class="number">25</span>])</span><br></pre></td></tr></table></figure><pre><code>æ—¥æœŸä¸­æœˆä»½æˆ–å¤©æ•°åŒ…å«2çš„äº¤æ˜“æ•°æ®
           æ—¥æœŸ  äº¤æ˜“é¢
95   2019-03-12  1530.0
153  2019-03-20  1332.0
154  2019-03-20  1485.0
155  2019-03-20   980.0
156  2019-03-20  1615.0
157  2019-03-20  1037.0
158  2019-03-20  1649.0
159  2019-03-20  1046.0
160  2019-03-20   829.0
161  2019-03-21  1528.0
</code></pre><h2 id="æŸ¥çœ‹dataframeçš„å†…å­˜å ç”¨æƒ…å†µ">æŸ¥çœ‹DataFrameçš„å†…å­˜å ç”¨æƒ…å†µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å…¨éƒ¨æ•°æ®ï¼Œä½¿ç”¨é»˜è®¤ç´¢å¼•</span></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;äº¤æ˜“é¢åˆ—å ç”¨å†…å­˜æƒ…å†µ&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>].memory_usage())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å†…å­˜å ç”¨æƒ…å†µ&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(df.memory_usage())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;å†…å­˜å ç”¨æ€»é¢&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(df.memory_usage().<span class="built_in">sum</span>())</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ä½¿ç”¨df.info()æŸ¥çœ‹å†…å­˜å ç”¨&#x27;</span>.ljust(<span class="number">20</span>,<span class="string">&#x27;=&#x27;</span>))</span><br><span class="line">df.info()</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code>äº¤æ˜“é¢åˆ—å ç”¨å†…å­˜æƒ…å†µ==========
2120
å†…å­˜å ç”¨æƒ…å†µ==============
Index      128
å·¥å·      1992
å§“å      1992
æ—¥æœŸ      1992
æ—¶æ®µ      1992
äº¤æ˜“é¢    1992
æŸœå°      1992
dtype: int64
å†…å­˜å ç”¨æ€»é¢==============
12080
ä½¿ç”¨df.info()æŸ¥çœ‹å†…å­˜å ç”¨===
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 249 entries, 0 to 248
Data columns (total 6 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   å·¥å·      249 non-null    int64  
 1   å§“å      249 non-null    object 
 2   æ—¥æœŸ      249 non-null    object 
 3   æ—¶æ®µ      249 non-null    object 
 4   äº¤æ˜“é¢     246 non-null    float64
 5   æŸœå°      249 non-null    object 
dtypes: float64(1), int64(1), object(4)
memory usage: 11.8+ KB
</code></pre><h2 id="æ•°æ®æ‹†åˆ†ä¸åˆå¹¶">æ•°æ®æ‹†åˆ†ä¸åˆå¹¶</h2><h3 id="concat-å‡½æ•°ä¸append-æ–¹æ³•">concat()å‡½æ•°ä¸append()æ–¹æ³•</h3><p>æ ¹æ®ä¸åŒçš„éœ€è¦ï¼Œå¯ä»¥å¯¹DataFrameä½¿ç”¨åˆ‡ç‰‡æˆ–locç­‰è¿ç®—æŒ‰è¡Œæˆ–åˆ—è¿›è¡Œæ‹†åˆ†ï¼Œå¾—åˆ°å¤šä¸ªDataFrameç»“æ„ã€‚æ‰©å±•åº“pandasæä¾›äº†concat()å‡½æ•°ç”¨äºåˆå¹¶å¤šä¸ªDataFrameç»“æ„ï¼Œå®Œæ•´è¯­æ³•å¦‚ä¸‹ï¼š</p><p>concat(objs, axis=0, join=â€˜outerâ€™, join_axes=None, ignore_index=False, keys=None, levels=None, names=None, verify_integrity=False, copy=True)</p><p>å‚æ•°objsè¡¨ç¤ºåŒ…å«å¤šä¸ªSeriesã€DataFrameæˆ–Panelå¯¹è±¡çš„åºåˆ—ï¼›</p><p>å‚æ•°axisé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºæŒ‰è¡Œè¿›è¡Œçºµå‘åˆå¹¶å’Œæ‰©å±•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line">df5 = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>,sheet_name=<span class="string">&#x27;Sheet2&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰è¡Œæ‹†åˆ†</span></span><br><span class="line">df1 = df[:<span class="number">3</span>]</span><br><span class="line">df2 = df[<span class="number">50</span>:<span class="number">53</span>]</span><br><span class="line"><span class="comment">#æŒ‰è¡Œè¿›è¡Œåˆå¹¶ï¼Œè¦æ±‚å¤šä¸ªdataFarameç»“æ„ç›¸åŒ</span></span><br><span class="line">df3 = pd.concat([df1,df2,df5])</span><br><span class="line"><span class="comment">#ä½¿ç”¨append()æ–¹æ³•æŒ‰è¡Œåˆå¹¶ï¼Œå¿½ç•¥åŸæ¥çš„ç´¢å¼•</span></span><br><span class="line">df4 = df1.append([df2,df5],ignore_index=<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#æŒ‰åˆ—è¿›è¡Œæ‹†åˆ†</span></span><br><span class="line">df6 = df.loc[:,[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;æŸœå°&#x27;</span>,<span class="string">&#x27;äº¤æ˜“é¢&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df1,df2,df3,df4,df[:<span class="number">5</span>],sep=<span class="string">&#x27;\n\n&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>   å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
0  1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0  åŒ–å¦†å“
1  1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0  åŒ–å¦†å“
2  1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0    é£Ÿå“

    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
50  1004  èµµå…­  2019-03-07   9ï¼š00-14ï¼š00  1340.0    é£Ÿå“
51  1004  èµµå…­  2019-03-07  14ï¼š00-21ï¼š00   942.0    é£Ÿå“
52  1005  å‘¨ä¸ƒ  2019-03-07   9ï¼š00-14ï¼š00  1465.0  æ—¥ç”¨å“

    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0   1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
1   1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
2   1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0      é£Ÿå“
50  1004  èµµå…­  2019-03-07   9ï¼š00-14ï¼š00  1340.0      é£Ÿå“
51  1004  èµµå…­  2019-03-07  14ï¼š00-21ï¼š00   942.0      é£Ÿå“
52  1005  å‘¨ä¸ƒ  2019-03-07   9ï¼š00-14ï¼š00  1465.0    æ—¥ç”¨å“
0   1001  å¼ ä¸‰  2019-04-01   9ï¼š00-14ï¼š00  1367.0    åŒ–å¦†å“
1   1002  æå››  2019-04-01  14ï¼š00-21ï¼š00  1005.0    åŒ–å¦†å“
2   1003  ç‹äº”  2019-04-01   9ï¼š00-14ï¼š00  1460.0      é£Ÿå“
3   1004  èµµå…­  2019-04-01  14ï¼š00-21ï¼š00  1270.0      é£Ÿå“
4   1005  å‘¨ä¸ƒ  2019-04-01   9ï¼š00-14ï¼š00  1123.0    æ—¥ç”¨å“
5   1006  é’±å…«  2019-04-01  14ï¼š00-21ï¼š00  1321.0    æ—¥ç”¨å“
6   1007  å­™ä¹  2019-04-01   9ï¼š00-14ï¼š00  1364.0  è”¬èœæ°´æœ
7   1007  å­™ä¹  2019-04-01  14ï¼š00-21ï¼š00  1633.0  è”¬èœæ°´æœ

    å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°
0   1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0    åŒ–å¦†å“
1   1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0    åŒ–å¦†å“
2   1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0      é£Ÿå“
3   1004  èµµå…­  2019-03-07   9ï¼š00-14ï¼š00  1340.0      é£Ÿå“
4   1004  èµµå…­  2019-03-07  14ï¼š00-21ï¼š00   942.0      é£Ÿå“
5   1005  å‘¨ä¸ƒ  2019-03-07   9ï¼š00-14ï¼š00  1465.0    æ—¥ç”¨å“
6   1001  å¼ ä¸‰  2019-04-01   9ï¼š00-14ï¼š00  1367.0    åŒ–å¦†å“
7   1002  æå››  2019-04-01  14ï¼š00-21ï¼š00  1005.0    åŒ–å¦†å“
8   1003  ç‹äº”  2019-04-01   9ï¼š00-14ï¼š00  1460.0      é£Ÿå“
9   1004  èµµå…­  2019-04-01  14ï¼š00-21ï¼š00  1270.0      é£Ÿå“
10  1005  å‘¨ä¸ƒ  2019-04-01   9ï¼š00-14ï¼š00  1123.0    æ—¥ç”¨å“
11  1006  é’±å…«  2019-04-01  14ï¼š00-21ï¼š00  1321.0    æ—¥ç”¨å“
12  1007  å­™ä¹  2019-04-01   9ï¼š00-14ï¼š00  1364.0  è”¬èœæ°´æœ
13  1007  å­™ä¹  2019-04-01  14ï¼š00-21ï¼š00  1633.0  è”¬èœæ°´æœ

   å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢    æŸœå°
0  1001  å¼ ä¸‰  2019-03-01   9ï¼š00-14ï¼š00  1664.0  åŒ–å¦†å“
1  1002  æå››  2019-03-01  14ï¼š00-21ï¼š00   954.0  åŒ–å¦†å“
2  1003  ç‹äº”  2019-03-01   9ï¼š00-14ï¼š00  1407.0    é£Ÿå“
3  1004  èµµå…­  2019-03-01  14ï¼š00-21ï¼š00  1320.0    é£Ÿå“
4  1005  å‘¨ä¸ƒ  2019-03-01   9ï¼š00-14ï¼š00   994.0  æ—¥ç”¨å“
</code></pre><h3 id="merge-æ–¹æ³•">merge()æ–¹æ³•</h3><p>merge(right, how=â€˜innerâ€™, on=None, left_on=None, right_on=None, left_index=False, right_index=False, sort=False, suffixes=(â€™_xâ€™, â€˜_yâ€™), copy=True, indicator=False)</p><p>å‚æ•°rightè¡¨ç¤ºå¦ä¸€ä¸ªDataFrameç»“æ„ï¼›</p><p>å‚æ•°howçš„å–å€¼å¯ä»¥æ˜¯â€™leftâ€™ã€â€˜rightâ€™ã€'outerâ€™æˆ–â€™innerâ€™ä¹‹ä¸€ï¼Œè¡¨ç¤ºæ•°æ®è¿æ¥çš„æ–¹å¼ï¼›</p><p>å‚æ•°onç”¨æ¥æŒ‡å®šè¿æ¥æ—¶ä¾æ®çš„åˆ—åæˆ–åŒ…å«è‹¥å¹²åˆ—åçš„åˆ—è¡¨ï¼Œè¦æ±‚æŒ‡å®šçš„åˆ—ååœ¨ä¸¤ä¸ªDataFrameä¸­éƒ½å­˜åœ¨ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•å‚æ•°æŒ‡å®šè¿æ¥é”®åˆ™æ ¹æ®ä¸¤ä¸ªDataFrameçš„åˆ—åäº¤é›†è¿›è¡Œè¿æ¥ï¼›</p><p>å‚æ•°left_onå’Œright_onåˆ†åˆ«ç”¨æ¥æŒ‡å®šè¿æ¥æ—¶ä¾æ®çš„å·¦ä¾§åˆ—åæ ‡ç­¾å’Œå³ä¾§åˆ—åæ ‡ç­¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="comment">#è®¾ç½®è¾“å‡ºç»“æœå¯¹é½æ–¹å¼</span></span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.ambiguous_as_wide&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">df1 = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>)</span><br><span class="line">df2 = pd.read_excel(<span class="string">r&#x27;è¶…å¸‚è¥ä¸šé¢2.xlsx&#x27;</span>,sheet_name=<span class="string">&#x27;Sheet3&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‰åŒåçš„åˆ—åˆå¹¶ï¼ŒéšæœºæŸ¥çœ‹10è¡Œæ•°æ® </span></span><br><span class="line">rows=np.random.randint(<span class="number">0</span>,<span class="built_in">len</span>(df1),<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(pd.merge(df1,df2).iloc[rows,:],end=<span class="string">&#x27;\n\n&#x27;</span>) </span><br><span class="line"><span class="comment">#æŒ‰å·¥å·åˆå¹¶ï¼ŒæŒ‡å®šå…¶ä»–åŒååˆ—çš„åçº§ </span></span><br><span class="line"><span class="built_in">print</span>(pd.merge(df1,df2,on=<span class="string">&#x27;å·¥å·&#x27;</span>, suffixes=[<span class="string">&#x27;_x&#x27;</span>,<span class="string">&#x27;_y&#x27;</span>]).iloc[rows,:],end=<span class="string">&#x27;\n\n&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><pre><code>     å·¥å·  å§“å        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå°  èŒçº§
83   1002  æå››  2019-03-31   9ï¼š00-14ï¼š00  1274.0    åŒ–å¦†å“  ä¸»ç®¡
217  1006  é’±å…«  2019-03-05  14ï¼š00-21ï¼š00  1578.0    æ—¥ç”¨å“  å‘˜å·¥
156  1004  èµµå…­  2019-03-22  14ï¼š00-21ï¼š00   981.0    æ—¥ç”¨å“  å‘˜å·¥
171  1005  å‘¨ä¸ƒ  2019-03-02   9ï¼š00-14ï¼š00  1444.0    æ—¥ç”¨å“  å‘˜å·¥
178  1005  å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00  1778.0  è”¬èœæ°´æœ  å‘˜å·¥
187  1005  å‘¨ä¸ƒ  2019-03-12  14ï¼š00-21ï¼š00  1317.0    åŒ–å¦†å“  å‘˜å·¥
199  1005  å‘¨ä¸ƒ  2019-03-20   9ï¼š00-14ï¼š00  1046.0      é£Ÿå“  å‘˜å·¥
52   1002  æå››  2019-03-10   9ï¼š00-14ï¼š00  1478.0  è”¬èœæ°´æœ  ä¸»ç®¡
55   1002  æå››  2019-03-13  14ï¼š00-21ï¼š00    98.0    æ—¥ç”¨å“  ä¸»ç®¡
108  1003  ç‹äº”  2019-03-19  14ï¼š00-21ï¼š00  1026.0    åŒ–å¦†å“  ç»„é•¿

     å·¥å· å§“å_x        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå° å§“å_y  èŒçº§
83   1002   æå››  2019-03-31   9ï¼š00-14ï¼š00  1274.0    åŒ–å¦†å“   æå››  ä¸»ç®¡
217  1006   é’±å…«  2019-03-05  14ï¼š00-21ï¼š00  1578.0    æ—¥ç”¨å“   é’±å…«  å‘˜å·¥
156  1004   èµµå…­  2019-03-22  14ï¼š00-21ï¼š00   981.0    æ—¥ç”¨å“   èµµå…­  å‘˜å·¥
171  1005   å‘¨ä¸ƒ  2019-03-02   9ï¼š00-14ï¼š00  1444.0    æ—¥ç”¨å“   å‘¨ä¸ƒ  å‘˜å·¥
178  1005   å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00  1778.0  è”¬èœæ°´æœ   å‘¨ä¸ƒ  å‘˜å·¥
187  1005   å‘¨ä¸ƒ  2019-03-12  14ï¼š00-21ï¼š00  1317.0    åŒ–å¦†å“   å‘¨ä¸ƒ  å‘˜å·¥
199  1005   å‘¨ä¸ƒ  2019-03-20   9ï¼š00-14ï¼š00  1046.0      é£Ÿå“   å‘¨ä¸ƒ  å‘˜å·¥
52   1002   æå››  2019-03-10   9ï¼š00-14ï¼š00  1478.0  è”¬èœæ°´æœ   æå››  ä¸»ç®¡
55   1002   æå››  2019-03-13  14ï¼š00-21ï¼š00    98.0    æ—¥ç”¨å“   æå››  ä¸»ç®¡
108  1003   ç‹äº”  2019-03-19  14ï¼š00-21ï¼š00  1026.0    åŒ–å¦†å“   ç‹äº”  ç»„é•¿
</code></pre><p>â€‹</p><h3 id="join-æ–¹æ³•">join()æ–¹æ³•</h3><p>DataFrameç»“æ„çš„join()æ–¹æ³•ä¹Ÿå¯ä»¥å®ç°æŒ‰åˆ—å¯¹å·¦è¡¨ï¼ˆè°ƒç”¨join()æ–¹æ³•çš„DataFrameï¼‰å’Œå³è¡¨åˆå¹¶ï¼Œå¦‚æœå³è¡¨otherç´¢å¼•ä¸å·¦è¡¨æŸåˆ—çš„å€¼ç›¸åŒå¯ä»¥ç›´æ¥è¿æ¥ï¼Œå¦‚æœè¦æ ¹æ®å³è¡¨otherä¸­æŸåˆ—çš„å€¼ä¸å·¦è¡¨è¿›è¡Œè¿æ¥ï¼Œéœ€è¦å…ˆå¯¹å³è¡¨otherè°ƒç”¨set_index()æ–¹æ³•è®¾å®šè¯¥åˆ—ä½œä¸ºç´¢å¼•ã€‚</p><p>join(other, on=None, how=â€˜leftâ€™, lsuffix=â€™â€™, rsuffix=â€™â€™, sort=False)</p><p>å‚æ•°otherè¡¨ç¤ºå¦ä¸€ä¸ªDataFrameç»“æ„ï¼Œä¹Ÿå°±æ˜¯å³è¡¨ï¼›</p><p>å‚æ•°onç”¨æ¥æŒ‡å®šè¿æ¥æ—¶ä¾æ®çš„å·¦è¡¨åˆ—åï¼Œå¦‚æœä¸æŒ‡å®šåˆ™æŒ‰å·¦è¡¨ç´¢å¼•indexçš„å€¼è¿›è¡Œè¿æ¥ï¼›</p><p>å‚æ•°howçš„å«ä¹‰ä¸merge()æ–¹æ³•çš„howç›¸åŒï¼›</p><p>å‚æ•°lsuffixå’Œrsuffixç”¨æ¥æŒ‡å®šåˆ—åçš„åç¼€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸¤ä¸ªè¡¨éƒ½è®¾ç½®å·¥å·åˆ—ä¸ºç´¢å¼• </span></span><br><span class="line"><span class="built_in">print</span>(df1.set_index(<span class="string">&#x27;å·¥å·&#x27;</span>).join(df2.set_index(<span class="string">&#x27;å·¥å·&#x27;</span>), lsuffix=<span class="string">&#x27;_x&#x27;</span> ,rsuffix=<span class="string">&#x27;_y&#x27;</span>).iloc[rows,:])</span><br></pre></td></tr></table></figure><pre><code>     å§“å_x        æ—¥æœŸ           æ—¶æ®µ  äº¤æ˜“é¢      æŸœå° å§“å_y  èŒçº§
å·¥å·                                                                 
1002   æå››  2019-03-31   9ï¼š00-14ï¼š00  1274.0    åŒ–å¦†å“   æå››  ä¸»ç®¡
1006   é’±å…«  2019-03-05  14ï¼š00-21ï¼š00  1578.0    æ—¥ç”¨å“   é’±å…«  å‘˜å·¥
1004   èµµå…­  2019-03-22  14ï¼š00-21ï¼š00   981.0    æ—¥ç”¨å“   èµµå…­  å‘˜å·¥
1005   å‘¨ä¸ƒ  2019-03-02   9ï¼š00-14ï¼š00  1444.0    æ—¥ç”¨å“   å‘¨ä¸ƒ  å‘˜å·¥
1005   å‘¨ä¸ƒ  2019-03-06  14ï¼š00-21ï¼š00  1778.0  è”¬èœæ°´æœ   å‘¨ä¸ƒ  å‘˜å·¥
1005   å‘¨ä¸ƒ  2019-03-12  14ï¼š00-21ï¼š00  1317.0    åŒ–å¦†å“   å‘¨ä¸ƒ  å‘˜å·¥
1005   å‘¨ä¸ƒ  2019-03-20   9ï¼š00-14ï¼š00  1046.0      é£Ÿå“   å‘¨ä¸ƒ  å‘˜å·¥
1002   æå››  2019-03-10   9ï¼š00-14ï¼š00  1478.0  è”¬èœæ°´æœ   æå››  ä¸»ç®¡
1002   æå››  2019-03-13  14ï¼š00-21ï¼š00    98.0    æ—¥ç”¨å“   æå››  ä¸»ç®¡
1003   ç‹äº”  2019-03-19  14ï¼š00-21ï¼š00  1026.0    åŒ–å¦†å“   ç‹äº”  ç»„é•¿
</code></pre><blockquote><p>æ¥è‡ªä¹¦ç±ï¼šã€ŠPythonæ•°æ®åˆ†æã€æŒ–æ˜ä¸å¯è§†åŒ–ã€‹</p></blockquote></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/t.jpg" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/t.jpg" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">Rshimmer</div><div class="post-copyright__author_desc">å°å¹³å‡¡çš„è®°å½•</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="https://rshimmering.github.io/posts/d966146.html">åŸåˆ›</a><a class="post-copyright-title"><span onclick='rm.copyPageUrl("https://rshimmering.github.io/posts/d966146.html")'>Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://rshimmering.github.io/posts/d966146.html"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Pythonâ€”â€”ç¬¬7ç«  pandasæ•°æ®åˆ†æå®æˆ˜&amp;url=https://rshimmering.github.io/posts/d966146.html&amp;pic=/pageimg/2027105.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://Rshimmering.github.io" target="_blank">Rshimmer</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Python/"><span class="tags-punctuation"><i class="anzhiyufont anzhiyu-icon-tag"></i></span>Python<span class="tagsPageCount">7</span></a><a class="post-meta__box__tags" href="/tags/pandas/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>pandas<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/pageimg/wallhaven-rd83kq.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/379ecd07.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/248307.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Pythonâ€”â€”ç¬¬6ç«  Numpyåº“çš„ä½¿ç”¨</div></div></a></div><div class="next-post pull-right"><a href="/posts/ac5cb4aa.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/wallhaven-xlkegz.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">æœºå™¨å­¦ä¹ æ¦‚è¿°</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size:1.5rem;margin-right:4px"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/c455d330.html" title="Pythonâ€”â€”ç¬¬3ç«  åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ã€é›†åˆä¸å­—ç¬¦ä¸²"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/1198802.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-07</div><div class="title">Pythonâ€”â€”ç¬¬3ç«  åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ã€é›†åˆä¸å­—ç¬¦ä¸²</div></div></a></div><div><a href="/posts/e818e21.html" title="Pythonâ€”â€”ç¬¬2ç«  æ•°æ®ç±»å‹ã€è¿ç®—ç¬¦ä¸å†…ç½®å‡½æ•°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/666870.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-07</div><div class="title">Pythonâ€”â€”ç¬¬2ç«  æ•°æ®ç±»å‹ã€è¿ç®—ç¬¦ä¸å†…ç½®å‡½æ•°</div></div></a></div><div><a href="/posts/379ecd07.html" title="Pythonâ€”â€”ç¬¬6ç«  Numpyåº“çš„ä½¿ç”¨"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/248307.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-07</div><div class="title">Pythonâ€”â€”ç¬¬6ç«  Numpyåº“çš„ä½¿ç”¨</div></div></a></div><div><a href="/posts/2b6b9f44.html" title="Pythonæ—¥å¸¸è®°å½•ç¬”è®°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/1108099.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-20</div><div class="title">Pythonæ—¥å¸¸è®°å½•ç¬”è®°</div></div></a></div><div><a href="/posts/fd7a19d1.html" title="Pythonæ•°æ®æŒ–æ˜â€”â€”åŸºäºæ•°æ®æŒ–æ˜çš„ä¸Šå¸‚å…¬å¸è´¢åŠ¡é€ å‡è¯†åˆ«ï¼ˆåˆ¶é€ ä¸šï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/wallhaven-m917o9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-07</div><div class="title">Pythonæ•°æ®æŒ–æ˜â€”â€”åŸºäºæ•°æ®æŒ–æ˜çš„ä¸Šå¸‚å…¬å¸è´¢åŠ¡é€ å‡è¯†åˆ«ï¼ˆåˆ¶é€ ä¸šï¼‰</div></div></a></div><div><a href="/posts/befeb9c9.html" title="Pythonæ•°æ®åˆ†æâ€”â€”æ•™è‚²å¹³å°çš„çº¿ä¸Šè¯¾ç¨‹æ™ºèƒ½æ¨èç­–ç•¥ï¼ˆ2020æ³°è¿ªæ¯æ•°æ®åˆ†ææŠ€èƒ½èµ›ï¼‰"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/wallhaven-0w2y76.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-06-06</div><div class="title">Pythonæ•°æ®åˆ†æâ€”â€”æ•™è‚²å¹³å°çš„çº¿ä¸Šè¯¾ç¨‹æ™ºèƒ½æ¨èç­–ç•¥ï¼ˆ2020æ³°è¿ªæ¯æ•°æ®åˆ†ææŠ€èƒ½èµ›ï¼‰</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-top" title="ç‚¹å‡»å±•å¼€"><div class="card-info-avatar"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/t.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="writing_hand" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/270d.png">âœï¸</g-emoji><span>on Studying</span></div></div></div></div><div class="author-info__description">äººç”Ÿä¸‡äº‹é¡»è‡ªä¸º</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Rshimmer</h1><div class="author-info__desc">å°å¹³å‡¡çš„è®°å½•</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Rshimmering" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#pandas%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">pandaså¸¸ç”¨æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%8E%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.</span> <span class="toc-text">ä¸€ç»´æ•°ç»„ä¸å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E4%B8%8E%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">æ—¶é—´åºåˆ—ä¸å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84dataframe"><span class="toc-number">1.3.</span> <span class="toc-text">äºŒç»´æ•°ç»„DataFrame</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dataframe%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98"><span class="toc-number">2.</span> <span class="toc-text">DataFrameæ•°æ®å¤„ç†ä¸åˆ†æå®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96excel%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.</span> <span class="toc-text">è¯»å–Excelæ–‡ä»¶ä¸­çš„æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%9B%E9%80%89%E7%AC%A6%E5%90%88%E7%89%B9%E5%AE%9A%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.</span> <span class="toc-text">ç­›é€‰ç¬¦åˆç‰¹å®šæ¡ä»¶çš„æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BEat"><span class="toc-number">2.2.1.</span> <span class="toc-text">åŸºäºæ ‡ç­¾at</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E4%BD%8D%E7%BD%AEiat"><span class="toc-number">2.2.2.</span> <span class="toc-text">åŸºäºä½ç½®iat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%88%97%E7%9A%84%E9%80%89%E5%8F%96"><span class="toc-number">2.2.3.</span> <span class="toc-text">å•åˆ—çš„é€‰å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%88%97%E7%9A%84%E9%80%89%E5%8F%96"><span class="toc-number">2.2.4.</span> <span class="toc-text">å¤šåˆ—çš„é€‰å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E7%9A%84%E9%80%89%E5%8F%96"><span class="toc-number">2.2.5.</span> <span class="toc-text">å•è¡Œçš„é€‰å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E7%9A%84%E9%80%89%E5%8F%96"><span class="toc-number">2.2.6.</span> <span class="toc-text">å¤šè¡Œçš„é€‰å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%97%E7%9A%84%E9%80%89%E5%8F%96"><span class="toc-number">2.2.7.</span> <span class="toc-text">å—çš„é€‰å–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E8%BF%87%E6%BB%A4%E8%A1%8C-%E5%B8%83%E5%B0%94%E7%B4%A2%E5%BC%95"><span class="toc-number">2.2.8.</span> <span class="toc-text">æ ¹æ®æ¡ä»¶è¿‡æ»¤è¡Œï¼ˆå¸ƒå°”ç´¢å¼•ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%B4%A2%E5%BC%95-%E5%A4%9A%E5%B1%82%E7%B4%A2%E5%BC%95"><span class="toc-number">2.2.9.</span> <span class="toc-text">é«˜çº§ç´¢å¼•ï¼ˆå¤šå±‚ç´¢å¼•ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%B4%A2%E5%BC%95-%E8%B0%83%E4%BD%8Dlevel"><span class="toc-number">2.2.10.</span> <span class="toc-text">é«˜çº§ç´¢å¼•ï¼ˆè°ƒä½levelï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E7%B4%A2%E5%BC%95-%E9%87%8D%E8%AE%BEindex"><span class="toc-number">2.2.11.</span> <span class="toc-text">é«˜çº§ç´¢å¼•ï¼ˆé‡è®¾indexï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81%E5%92%8C%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF"><span class="toc-number">2.3.</span> <span class="toc-text">æŸ¥çœ‹æ•°æ®ç‰¹å¾å’Œç»Ÿè®¡ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81"><span class="toc-number">2.3.1.</span> <span class="toc-text">æŸ¥çœ‹æ•°æ®ç‰¹å¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E7%89%B9%E5%BE%81"><span class="toc-number">2.3.2.</span> <span class="toc-text">ç»Ÿè®¡ç‰¹å¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%89%E4%B8%8D%E5%90%8C%E6%A0%87%E5%87%86%E5%AF%B9%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">2.4.</span> <span class="toc-text">æŒ‰ä¸åŒæ ‡å‡†å¯¹æ•°æ®æ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sort-values"><span class="toc-number">2.4.1.</span> <span class="toc-text">sort_values()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort-index"><span class="toc-number">2.4.2.</span> <span class="toc-text">sort.index()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%88%86%E7%BB%84%E4%B8%8E%E8%81%9A%E5%90%88%E5%AF%B9%E5%91%98%E5%B7%A5%E4%B8%9A%E7%BB%A9%E8%BF%9B%E8%A1%8C%E6%B1%87%E6%80%BB"><span class="toc-number">2.5.</span> <span class="toc-text">ä½¿ç”¨åˆ†ç»„ä¸èšåˆå¯¹å‘˜å·¥ä¸šç»©è¿›è¡Œæ±‡æ€»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%BC%82%E5%B8%B8%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-number">2.6.</span> <span class="toc-text">æ•°æ®çš„å¼‚å¸¸å€¼å¤„ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E8%B6%85%E5%B8%82%E4%BA%A4%E6%98%93%E9%A2%9D%E6%95%B0%E6%8D%AE%E4%B8%AD%E7%9A%84%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">2.7.</span> <span class="toc-text">å¤„ç†è¶…å¸‚äº¤æ˜“é¢æ•°æ®ä¸­çš„ç¼ºå¤±å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E8%B6%85%E5%B8%82%E4%BA%A4%E6%98%93%E6%95%B0%E6%8D%AE%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%80%BC"><span class="toc-number">2.8.</span> <span class="toc-text">å¤„ç†è¶…å¸‚äº¤æ˜“æ•°æ®ä¸­çš„é‡å¤å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%B7%AE%E5%88%86%E6%9F%A5%E7%9C%8B%E5%91%98%E5%B7%A5%E4%B8%9A%E7%BB%A9%E6%B3%A2%E5%8A%A8%E6%83%85%E5%86%B5"><span class="toc-number">2.9.</span> <span class="toc-text">ä½¿ç”¨æ•°æ®å·®åˆ†æŸ¥çœ‹å‘˜å·¥ä¸šç»©æ³¢åŠ¨æƒ…å†µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%80%8F%E8%A7%86%E8%A1%A8%E4%B8%8E%E4%BA%A4%E5%8F%89%E8%A1%A8%E6%9F%A5%E7%9C%8B%E4%B8%9A%E7%BB%A9%E6%B1%87%E6%80%BB%E6%95%B0%E6%8D%AE"><span class="toc-number">2.10.</span> <span class="toc-text">ä½¿ç”¨é€è§†è¡¨ä¸äº¤å‰è¡¨æŸ¥çœ‹ä¸šç»©æ±‡æ€»æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%8F%E8%A7%86%E8%A1%A8"><span class="toc-number">2.10.1.</span> <span class="toc-text">é€è§†è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E8%A1%A8"><span class="toc-number">2.10.2.</span> <span class="toc-text">äº¤å‰è¡¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%87%8D%E9%87%87%E6%A0%B7%E6%8A%80%E6%9C%AF%E6%8C%89%E6%97%B6%E9%97%B4%E6%AE%B5%E6%9F%A5%E7%9C%8B%E5%91%98%E5%B7%A5%E4%B8%9A%E7%BB%A9"><span class="toc-number">2.11.</span> <span class="toc-text">ä½¿ç”¨é‡é‡‡æ ·æŠ€æœ¯æŒ‰æ—¶é—´æ®µæŸ¥çœ‹å‘˜å·¥ä¸šç»©</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%B4%A2%E5%BC%95%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E4%B8%8E%E6%93%8D%E4%BD%9C"><span class="toc-number">2.12.</span> <span class="toc-text">å¤šç´¢å¼•ç›¸å…³æŠ€æœ¯ä¸æ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%A0%87%E5%87%86%E5%B7%AE%E4%B8%8E%E5%8D%8F%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90%E5%91%98%E5%B7%A5%E4%B8%9A%E7%BB%A9"><span class="toc-number">2.13.</span> <span class="toc-text">ä½¿ç”¨æ ‡å‡†å·®ä¸åæ–¹å·®åˆ†æå‘˜å·¥ä¸šç»©</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8pandas%E7%9A%84%E5%B1%9E%E6%80%A7%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD"><span class="toc-number">2.14.</span> <span class="toc-text">ä½¿ç”¨pandasçš„å±æ€§æ¥å£å®ç°é«˜çº§åŠŸèƒ½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bdataframe%E7%9A%84%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">2.15.</span> <span class="toc-text">æŸ¥çœ‹DataFrameçš„å†…å­˜å ç”¨æƒ…å†µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8B%86%E5%88%86%E4%B8%8E%E5%90%88%E5%B9%B6"><span class="toc-number">2.16.</span> <span class="toc-text">æ•°æ®æ‹†åˆ†ä¸åˆå¹¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#concat-%E5%87%BD%E6%95%B0%E4%B8%8Eappend-%E6%96%B9%E6%B3%95"><span class="toc-number">2.16.1.</span> <span class="toc-text">concat()å‡½æ•°ä¸append()æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#merge-%E6%96%B9%E6%B3%95"><span class="toc-number">2.16.2.</span> <span class="toc-text">merge()æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#join-%E6%96%B9%E6%B3%95"><span class="toc-number">2.16.3.</span> <span class="toc-text">join()æ–¹æ³•</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/edad30be.html" title="å®‰çŸ¥é±¼ä¸»é¢˜"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/wallhaven-rd83kq.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="å®‰çŸ¥é±¼ä¸»é¢˜"></a><div class="content"><a class="title" href="/posts/edad30be.html" title="å®‰çŸ¥é±¼ä¸»é¢˜">å®‰çŸ¥é±¼ä¸»é¢˜</a><time datetime="2023-08-12T08:00:00.000Z" title="å‘è¡¨äº 2023-08-12 16:00:00">2023-08-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b27157e3.html" title="butterflyé­”æ”¹ä¹‹ä¾§è¾¹æ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/220938.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="butterflyé­”æ”¹ä¹‹ä¾§è¾¹æ "></a><div class="content"><a class="title" href="/posts/b27157e3.html" title="butterflyé­”æ”¹ä¹‹ä¾§è¾¹æ ">butterflyé­”æ”¹ä¹‹ä¾§è¾¹æ </a><time datetime="2023-07-19T08:30:10.000Z" title="å‘è¡¨äº 2023-07-19 16:30:10">2023-07-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a1ca92f1.html" title="butterflyé­”æ”¹ä¹‹æ–‡ç« "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/61647_20735781941.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="butterflyé­”æ”¹ä¹‹æ–‡ç« "></a><div class="content"><a class="title" href="/posts/a1ca92f1.html" title="butterflyé­”æ”¹ä¹‹æ–‡ç« ">butterflyé­”æ”¹ä¹‹æ–‡ç« </a><time datetime="2023-07-19T08:29:23.000Z" title="å‘è¡¨äº 2023-07-19 16:29:23">2023-07-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1c0f0f76.html" title="butterflyé­”æ”¹ä¹‹å¯¼èˆªæ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/131947_58797511237.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="butterflyé­”æ”¹ä¹‹å¯¼èˆªæ "></a><div class="content"><a class="title" href="/posts/1c0f0f76.html" title="butterflyé­”æ”¹ä¹‹å¯¼èˆªæ ">butterflyé­”æ”¹ä¹‹å¯¼èˆªæ </a><time datetime="2023-07-19T08:28:59.000Z" title="å‘è¡¨äº 2023-07-19 16:28:59">2023-07-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7b5a6497.html" title="PDFæ–‡ä»¶"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pageimg/1139541.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="PDFæ–‡ä»¶"></a><div class="content"><a class="title" href="/posts/7b5a6497.html" title="PDFæ–‡ä»¶">PDFæ–‡ä»¶</a><time datetime="2023-07-18T03:00:00.000Z" title="å‘è¡¨äº 2023-07-18 11:00:00">2023-07-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://weibo.com" title="å¾®åš"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/Rshimmering" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><img class="footer_mini_logo" title="è¿”å›é¡¶éƒ¨" onclick="anzhiyu.scrollToDest(0,500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/t.jpg" size="50px"><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com" title="Bilibili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://v.douyin.com/DwCpMEy/" title="æŠ–éŸ³"><i class="anzhiyufont anzhiyu-icon-tiktok"></i></a></div><div class="copyright">&copy;2023 By Rshimmer</div><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/work.png" alt="æ‘¸é±¼~" title="æ‘¸é±¼~"><div id="runtimeTextTip"></div></div><div class="footer_custom_text">ç”Ÿæ´»çš„ç†æƒ³å°±æ˜¯ä¸ºäº†ç†æƒ³çš„ç”Ÿæ´»</div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/t.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">42</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size:.9em"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size:.9em"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size:.9em"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size:.9em"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size:.9em"></i><span> ç™¾å®ç®±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child" style="left:-79px"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size:.9em"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size:.9em"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size:.9em"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">æ’­æ”¾éŸ³ä¹</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span> æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size:1rem"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display:none"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@5.0.14/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("06/01/2023 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ¬¢è¿ä½¿ç”¨å®‰çŸ¥é±¼!`,
    `ç”Ÿæ´»æ˜æœ—, ä¸‡ç‰©å¯çˆ±`,
    `
        
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•
        
        `,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2023 By å®‰çŸ¥é±¼ V1.5.3",
  ];
  const ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `Photo captured: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c âš¡ Powered by å®‰çŸ¥é±¼ %c ä½ æ­£åœ¨è®¿é—® Rshimmer çš„åšå®¢.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async>(function () {
  var grt = new Date("06/01/2023 00:00:00"); //è®¾ç½®ç½‘ç«™ä¸Šçº¿æ—¶é—´
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // è®¡ç®—å¹¶æ›´æ–°å¤©æ•°ã€å°æ—¶æ•°ã€åˆ†é’Ÿæ•°å’Œç§’æ•°
  function updateTime() {
    now = new Date(); // æ›´æ–° now çš„å€¼
    nowHour = now.getHours(); // æ›´æ–° nowHour çš„å€¼
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // æ›´æ–°ç½‘é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™è¿è¡Œæ—¶é—´
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // å¦‚æœæ˜¯ä¸Šç­æ—¶é—´ï¼Œé»˜è®¤å°±æ˜¯"å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg"å›¾ç‰‡ï¼Œä¸éœ€è¦æ›´æ”¹
      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // å¦‚æœæ˜¯ä¸‹ç­æ—¶é—´ï¼Œæ’å…¥"å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg"å›¾ç‰‡
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "/img/bei.png";
      img.title = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";
      img.alt = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";

      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail="visitor@anheyu.com"</script><script>//åŠ¨æ€æ ‡é¢˜
let leaveTitle = 'w(ï¾ŸĞ”ï¾Ÿ)w ä¸è¦èµ°ï¼å†çœ‹çœ‹å˜›ï¼';
let backTitle = 'â™ª(^âˆ‡^*)æ¬¢è¿è‚¥æ¥ï¼';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = backTitle + OriginTitile
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// åˆå§‹åŒ–å‡½æ•°
let rm = {};

//ç¦æ­¢å›¾ç‰‡ä¸è¶…é“¾æ¥æ‹–æ‹½
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// æ˜¾ç¤ºèœå•
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// éšè—èœå•
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// å°ºå¯¸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// é‡æ–°å®šä¹‰å°ºå¯¸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // è·å–å®½åº¦å’Œé«˜åº¦
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// è·å–ç‚¹å‡»çš„href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š
    let pageY = event.clientY;

    //å…¶ä»–é¢å¤–èœå•
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–é ä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// ç›‘å¬å³é”®åˆå§‹åŒ–
window.oncontextmenu = oncontextmenuFunction

// ä¸‹è½½å›¾ç‰‡çŠ¶æ€
rm.downloadimging = false;

// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿
rm.writeClipImg = function (imgsrc) {
  console.log("æŒ‰ä¸‹å¤åˆ¶");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// è¯»å–å‰ªåˆ‡æ¿
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//ç²˜è´´æ–‡æœ¬
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//å¼•ç”¨åˆ°è¯„è®º
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "å¥½æ£’ï¼";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//æ›¿æ¢æ‰€æœ‰å†…å®¹
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// ç™¾åº¦æœç´¢
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ç™¾åº¦æœç´¢", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//åˆ†äº«é“¾æ¥
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("å·²å¤åˆ¶é“¾æ¥åœ°å€");
};

function addRightMenuClickEvent() {
  // æ·»åŠ ç‚¹å‡»äº‹ä»¶
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //éŸ³ä¹
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// å·²éšæœºçš„æ­Œæ›²
var selectRandomSong = [];
// éŸ³ä¹é»˜è®¤å£°éŸ³å¤§å°
var musicVolume = 0.8;
// æ˜¯å¦åˆ‡æ¢äº†å‘¨æ°ä¼¦éŸ³ä¹åˆ—è¡¨
var changeMusicListFlag = false;
// å½“å‰é»˜è®¤æ’­æ”¾åˆ—è¡¨
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | Rshimmer")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {if (typeof addFriendLinksInFooter === "function") {addFriendLinksInFooter();}}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&"/"===location.pathname&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://Rshimmering.github.io/categories/Excel/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“š Excel (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://Rshimmering.github.io/categories/hexo/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“š hexo (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://Rshimmering.github.io/categories/æ•°æ®åˆ†æã€æ•°æ®æŒ–æ˜é¡¹ç›®/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“š æ•°æ®åˆ†æã€æ•°æ®æŒ–æ˜é¡¹ç›® (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://Rshimmering.github.io/categories/ã€Šç»Ÿè®¡å­¦-ç¬¬7ç‰ˆã€‹æ€è€ƒé¢˜/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ“š ã€Šç»Ÿè®¡å­¦_ç¬¬7ç‰ˆã€‹æ€è€ƒé¢˜ (14)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://Rshimmering.github.io/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>',console.log("å·²æŒ‚è½½magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#1f4e79;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#1f4e79}.magnet_link_more{color:#555}.magnet_link{color:#fff}.magnet_link:hover{color:#d2b4de}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style></body></html>